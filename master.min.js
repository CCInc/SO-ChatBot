function js_beautify(e,t){function n(e){for(e=e===void 0?!1:e;C.length&&(" "===C[C.length-1]||C[C.length-1]===w||C[C.length-1]===U||e&&("\n"===C[C.length-1]||"\r"===C[C.length-1]));)C.pop()}function o(e){return e.replace(/^\s\s*|\s\s*$/,"")}function i(e){e=e.replace(/\x0d/g,"");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}function r(){var e=Q;Q=!1,s(),Q=e}function s(e,t){if(E.eat_next_space=!1,(!Q||!p(E.mode))&&(e=e===void 0?!0:e,t=t===void 0?!0:t,t&&(E.if_line=!1,E.chain_extra_indentation=0),n(),C.length)){"\n"===C[C.length-1]&&e||(G=!0,C.push("\n")),U&&C.push(U);for(var o=0;E.indentation_level+E.chain_extra_indentation>o;o+=1)C.push(w);E.var_line&&E.var_line_reindented&&C.push(w)}}function a(){if("TK_COMMENT"===O)return s();if(E.eat_next_space)return E.eat_next_space=!1,void 0;var e=" ";C.length&&(e=C[C.length-1])," "!==e&&"\n"!==e&&e!==w&&C.push(" ")}function c(){G=!1,E.eat_next_space=!1,C.push(_)}function u(){E.indentation_level+=1}function l(){C.length&&C[C.length-1]===w&&C.pop()}function m(e){E&&N.push(E),E={previous_mode:E?E.mode:"BLOCK",mode:e,var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,if_line:!1,chain_extra_indentation:0,in_case_statement:!1,in_case:!1,case_body:!1,eat_next_space:!1,indentation_level:E?E.indentation_level+(E.var_line&&E.var_line_reindented?1:0):0,ternary_depth:0}}function p(e){return"[EXPRESSION]"===e||"[INDENTED-EXPRESSION]"===e}function h(e){return x(e,["[EXPRESSION]","(EXPRESSION)","(FOR-EXPRESSION)","(COND-EXPRESSION)"])}function d(){if(P="DO_BLOCK"===E.mode,N.length>0){var e=E.mode;E=N.pop(),E.previous_mode=e}}function g(e,t){for(var n=0;e.length>n;n++){var i=o(e[n]);if(i.charAt(0)!==t)return!1}return!0}function f(e){return x(e,["case","return","do","if","throw","else"])}function x(e,t){for(var n=0;t.length>n;n+=1)if(t[n]===e)return!0;return!1}function y(e){for(var t=j,n=v.charAt(t);x(n,S)&&n!==e;){if(t++,t>=$)return 0;n=v.charAt(t)}return n}function b(){var e,t;if(J=0,j>=$)return["","TK_EOF"];B=!1;var i=v.charAt(j);j+=1;var r=Q&&p(E.mode);if(r){for(var a=0;x(i,S);){if("\n"===i?(n(),C.push("\n"),G=!0,a=0):"	"===i?a+=4:"\r"===i||(a+=1),j>=$)return["","TK_EOF"];i=v.charAt(j),j+=1}if(G)for(e=0;a>e;e++)C.push(" ")}else{for(;x(i,S);){if("\n"===i&&(J+=Y?Y>=J?1:0:1),j>=$)return["","TK_EOF"];i=v.charAt(j),j+=1}if(W&&J>1)for(e=0;J>e;e+=1)s(0===e),G=!0;B=J>0}if(x(i,k)){if($>j)for(;x(v.charAt(j),k)&&(i+=v.charAt(j),j+=1,j!==$););if(j!==$&&i.match(/^[0-9]+[Ee]$/)&&("-"===v.charAt(j)||"+"===v.charAt(j))){var c=v.charAt(j);j+=1;var u=b();return i+=c+u[0],[i,"TK_WORD"]}return"in"===i?[i,"TK_OPERATOR"]:(!B||"TK_OPERATOR"===O||"TK_EQUALS"===O||E.if_line||!W&&"var"===I||s(),[i,"TK_WORD"])}if("("===i||"["===i)return[i,"TK_START_EXPR"];if(")"===i||"]"===i)return[i,"TK_END_EXPR"];if("{"===i)return[i,"TK_START_BLOCK"];if("}"===i)return[i,"TK_END_BLOCK"];if(";"===i)return[i,"TK_SEMICOLON"];if("/"===i){var l="",m=!0;if("*"===v.charAt(j)){if(j+=1,$>j)for(;$>j&&("*"!==v.charAt(j)||!v.charAt(j+1)||"/"!==v.charAt(j+1))&&(i=v.charAt(j),l+=i,("\n"===i||"\r"===i)&&(m=!1),j+=1,!(j>=$)););return j+=2,m&&0===J?["/*"+l+"*/","TK_INLINE_COMMENT"]:["/*"+l+"*/","TK_BLOCK_COMMENT"]}if("/"===v.charAt(j)){for(l=i;"\r"!==v.charAt(j)&&"\n"!==v.charAt(j)&&(l+=v.charAt(j),j+=1,!(j>=$)););return B&&s(),[l,"TK_COMMENT"]}}if("'"===i||'"'===i||"/"===i&&("TK_WORD"===O&&f(I)||")"===I&&x(E.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])||"TK_COMMA"===O||"TK_COMMENT"===O||"TK_START_EXPR"===O||"TK_START_BLOCK"===O||"TK_END_BLOCK"===O||"TK_OPERATOR"===O||"TK_EQUALS"===O||"TK_EOF"===O||"TK_SEMICOLON"===O)){var h=i,d=!1,g=0,y=0;if(t=i,$>j)if("/"===h){for(var _=!1;d||_||v.charAt(j)!==h;)if(t+=v.charAt(j),d?d=!1:(d="\\"===v.charAt(j),"["===v.charAt(j)?_=!0:"]"===v.charAt(j)&&(_=!1)),j+=1,j>=$)return[t,"TK_STRING"]}else for(;d||v.charAt(j)!==h;)if(t+=v.charAt(j),g&&g>=y&&(g=parseInt(t.substr(-y),16),g&&g>=32&&126>=g&&(g=String.fromCharCode(g),t=t.substr(0,t.length-y-2)+(g===h||"\\"===g?"\\":"")+g),g=0),g?g++:d?(d=!1,z&&("x"===v.charAt(j)?(g++,y=2):"u"===v.charAt(j)&&(g++,y=4))):d="\\"===v.charAt(j),j+=1,j>=$)return[t,"TK_STRING"];if(j+=1,t+=h,"/"===h)for(;$>j&&x(v.charAt(j),k);)t+=v.charAt(j),j+=1;return[t,"TK_STRING"]}if("#"===i){if(0===C.length&&"!"===v.charAt(j)){for(t=i;$>j&&"\n"!==i;)i=v.charAt(j),t+=i,j+=1;return C.push(o(t)+"\n"),s(),b()}var T="#";if($>j&&x(v.charAt(j),K)){do i=v.charAt(j),T+=i,j+=1;while($>j&&"#"!==i&&"="!==i);return"#"===i||("["===v.charAt(j)&&"]"===v.charAt(j+1)?(T+="[]",j+=2):"{"===v.charAt(j)&&"}"===v.charAt(j+1)&&(T+="{}",j+=2)),[T,"TK_WORD"]}}if("<"===i&&"<!--"===v.substring(j-1,j+3)){for(j+=3,i="<!--";"\n"!==v.charAt(j)&&$>j;)i+=v.charAt(j),j++;return E.in_html_comment=!0,[i,"TK_COMMENT"]}if("-"===i&&E.in_html_comment&&"-->"===v.substring(j-1,j+2))return E.in_html_comment=!1,j+=2,B&&s(),["-->","TK_COMMENT"];if("."===i)return[i,"TK_DOT"];if(x(i,R)){for(;$>j&&x(i+v.charAt(j),R)&&(i+=v.charAt(j),j+=1,!(j>=$)););return","===i?[i,"TK_COMMA"]:"="===i?[i,"TK_EQUALS"]:[i,"TK_OPERATOR"]}return[i,"TK_UNKNOWN"]}var v,C,_,O,I,T,A,E,N,w,S,k,R,j,D,K,M,L,P,B,G,J,U="";t=t?t:{};var X;void 0!==t.space_after_anon_function&&void 0===t.jslint_happy&&(t.jslint_happy=t.space_after_anon_function),void 0!==t.braces_on_own_line&&(X=t.braces_on_own_line?"expand":"collapse"),X=t.brace_style?t.brace_style:X?X:"collapse";var Z=t.indent_size?t.indent_size:4,F=t.indent_char?t.indent_char:" ",W=t.preserve_newlines===void 0?!0:t.preserve_newlines,V=t.break_chained_methods===void 0?!1:t.break_chained_methods,Y=t.max_preserve_newlines===void 0?!1:t.max_preserve_newlines,H="undefined"===t.jslint_happy?!1:t.jslint_happy,Q=t.keep_array_indentation===void 0?!1:t.keep_array_indentation,q=t.space_before_conditional===void 0?!0:t.space_before_conditional,z=t.unescape_strings===void 0?!1:t.unescape_strings;G=!1;var $=e.length;for(w="";Z>0;)w+=F,Z-=1;for(;e&&(" "===e.charAt(0)||"	"===e.charAt(0));)U+=e.charAt(0),e=e.substring(1);for(v=e,A="",O="TK_START_EXPR",I="",T="",C=[],P=!1,S="\n\r	 ".split(""),k="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),K="0123456789".split(""),R="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::",R+=" <%= <% %> <?= <? ?>",R=R.split(" "),D="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),N=[],m("BLOCK"),j=0;;){var et=b();if(_=et[0],L=et[1],"TK_EOF"===L)break;switch(L){case"TK_START_EXPR":if("["===_){if("TK_WORD"===O||")"===I){x(I,D)&&a(),m("(EXPRESSION)"),c();break}"[EXPRESSION]"===E.mode||"[INDENTED-EXPRESSION]"===E.mode?"]"===T&&","===I?("[EXPRESSION]"===E.mode&&(E.mode="[INDENTED-EXPRESSION]",Q||u()),m("[EXPRESSION]"),Q||s()):"["===I?("[EXPRESSION]"===E.mode&&(E.mode="[INDENTED-EXPRESSION]",Q||u()),m("[EXPRESSION]"),Q||s()):m("[EXPRESSION]"):m("[EXPRESSION]")}else"for"===A?m("(FOR-EXPRESSION)"):x(A,["if","while"])?m("(COND-EXPRESSION)"):m("(EXPRESSION)");";"===I||"TK_START_BLOCK"===O?s():"TK_END_EXPR"===O||"TK_START_EXPR"===O||"TK_END_BLOCK"===O||"."===I?B&&s():"TK_WORD"!==O&&"TK_OPERATOR"!==O?a():"function"===A||"typeof"===A?H&&a():(x(I,D)||"catch"===I)&&q&&a(),c();break;case"TK_DOT":f(I)?a():")"===I&&(V||B)&&(E.chain_extra_indentation=1,s(!0,!1)),c();break;case"TK_END_EXPR":if("]"===_)if(Q){if("}"===I){l(),c(),d();break}}else if("[INDENTED-EXPRESSION]"===E.mode&&"]"===I){d(),s(),c();break}d(),c();break;case"TK_START_BLOCK":if("do"===A?m("DO_BLOCK"):m("BLOCK"),"expand"===X||"expand-strict"===X){var tt=!1;"expand-strict"===X?(tt="}"===y(),tt||s(!0)):"TK_OPERATOR"!==O&&("="===I||f(I)&&"else"!==I?a():s(!0)),c(),tt||u()}else"TK_OPERATOR"!==O&&"TK_START_EXPR"!==O?"TK_START_BLOCK"===O?s():a():p(E.previous_mode)&&","===I&&("}"===T?a():s()),u(),c();break;case"TK_END_BLOCK":d(),"expand"===X||"expand-strict"===X?("{"!==I&&s(),c()):("TK_START_BLOCK"===O?G?l():n():p(E.mode)&&Q?(Q=!1,s(),Q=!0):s(),c());break;case"TK_WORD":if(P){a(),c(),a(),P=!1;break}if(M="NONE","function"===_){if(E.var_line&&"TK_EQUALS"!==O&&(E.var_line_reindented=!0),(G||";"===I)&&"{"!==I&&"TK_BLOCK_COMMENT"!==O&&"TK_COMMENT"!==O){J=G?J:0,W||(J=1);for(var nt=0;2-J>nt;nt++)s(!1)}"TK_WORD"===O?"get"===I||"set"===I||"new"===I||"return"===I?a():s():"TK_OPERATOR"===O||"="===I?a():h(E.mode)||s(),c(),A=_;break}if("case"===_||"default"===_&&E.in_case_statement){s(),E.case_body&&(E.indentation_level--,E.case_body=!1,l()),c(),E.in_case=!0,E.in_case_statement=!0;break}"TK_END_BLOCK"===O?x(_.toLowerCase(),["else","catch","finally"])?"expand"===X||"end-expand"===X||"expand-strict"===X?M="NEWLINE":(M="SPACE",a()):M="NEWLINE":"TK_SEMICOLON"!==O||"BLOCK"!==E.mode&&"DO_BLOCK"!==E.mode?"TK_SEMICOLON"===O&&h(E.mode)?M="SPACE":"TK_STRING"===O?M="NEWLINE":"TK_WORD"===O?("else"===I&&n(!0),M="SPACE"):"TK_START_BLOCK"===O?M="NEWLINE":"TK_END_EXPR"===O&&(a(),M="NEWLINE"):M="NEWLINE",x(_,D)&&")"!==I&&(M="else"===I?"SPACE":"NEWLINE"),E.if_line&&"TK_END_EXPR"===O&&(E.if_line=!1),x(_.toLowerCase(),["else","catch","finally"])?"TK_END_BLOCK"!==O||"expand"===X||"end-expand"===X||"expand-strict"===X?s():(n(!0),a()):"NEWLINE"===M?f(I)?a():"TK_END_EXPR"!==O?"TK_START_EXPR"===O&&"var"===_||":"===I||("if"===_&&"else"===A&&"{"!==I?a():(E.var_line=!1,E.var_line_reindented=!1,s())):x(_,D)&&")"!==I&&(E.var_line=!1,E.var_line_reindented=!1,s()):p(E.mode)&&","===I&&"}"===T?s():"SPACE"===M&&a(),c(),A=_,"var"===_&&(E.var_line=!0,E.var_line_reindented=!1,E.var_line_tainted=!1),"if"===_&&(E.if_line=!0),"else"===_&&(E.if_line=!1);break;case"TK_SEMICOLON":c(),E.var_line=!1,E.var_line_reindented=!1,"OBJECT"===E.mode&&(E.mode="BLOCK");break;case"TK_STRING":"TK_END_EXPR"===O&&x(E.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])?a():"TK_COMMENT"===O||"TK_STRING"===O||"TK_START_BLOCK"===O||"TK_END_BLOCK"===O||"TK_SEMICOLON"===O?s():"TK_WORD"===O?a():W&&B&&(s(),C.push(w)),c();break;case"TK_EQUALS":E.var_line&&(E.var_line_tainted=!0),a(),c(),a();break;case"TK_COMMA":if(E.var_line){if((h(E.mode)||"TK_END_BLOCK"===O)&&(E.var_line_tainted=!1),E.var_line_tainted){c(),E.var_line_reindented=!0,E.var_line_tainted=!1,s();break}E.var_line_tainted=!1,c(),a();break}"TK_COMMENT"===O&&s(),"TK_END_BLOCK"===O&&"(EXPRESSION)"!==E.mode?(c(),"OBJECT"===E.mode&&"}"===I?s():a()):"OBJECT"===E.mode?(c(),s()):(c(),a());break;case"TK_OPERATOR":var ot=!0,it=!0;if(f(I)){a(),c();break}if("*"===_&&"TK_DOT"===O&&!T.match(/^\d+$/)){c();break}if(":"===_&&E.in_case){E.case_body=!0,u(),c(),s(),E.in_case=!1;break}if("::"===_){c();break}x(_,["--","++","!"])||x(_,["-","+"])&&(x(O,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||x(I,D)||","==I)?(ot=!1,it=!1,";"===I&&h(E.mode)&&(ot=!0),"TK_WORD"===O&&x(I,D)&&(ot=!0),"BLOCK"!==E.mode||"{"!==I&&";"!==I||s()):":"===_?0===E.ternary_depth?("BLOCK"===E.mode&&(E.mode="OBJECT"),ot=!1):E.ternary_depth-=1:"?"===_&&(E.ternary_depth+=1),ot&&a(),c(),it&&a();break;case"TK_BLOCK_COMMENT":var rt,st=i(_);if(g(st.slice(1),"*"))for(s(),C.push(st[0]),rt=1;st.length>rt;rt++)s(),C.push(" "),C.push(o(st[rt]));else for(st.length>1?s():"TK_END_BLOCK"===O?s():a(),rt=0;st.length>rt;rt++)C.push(st[rt]),C.push("\n");"\n"!==y("\n")&&s();break;case"TK_INLINE_COMMENT":a(),c(),h(E.mode)?a():r();break;case"TK_COMMENT":","!==I||B||n(!0),"TK_COMMENT"!==O&&(B?s():a()),c(),s();break;case"TK_UNKNOWN":c()}T=I,O=L,I=_}var at=U+C.join("").replace(/[\r\n ]+$/,"");return at}function css_beautify(e,t){function n(){return h=e.charAt(++g)}function o(){return e.charAt(g+1)}function i(t){for(var o=g;n();)if("\\"==h)n(),n();else{if(h==t)break;if("\n"==h)break}return e.substring(o,g+1)}function r(){for(var e=g;d.test(o());)g++;return g!=e}function s(){var e=g;do;while(d.test(n()));return g!=e+1}function a(){var t=g;for(n();n();)if("*"==h&&"/"==o()){g++;break}return e.substring(t,g+1)}function c(e,t){return v.slice(-e.length+(t||0),t).join("").toLowerCase()==e}function u(){y++,f+=x}function l(){y--,f=f.slice(0,-m)}t=t||{};var m=t.indent_size||4,p=t.indent_char||" ";"string"==typeof m&&(m=parseInt(m));var h,d=/^\s+$/,g=-1,f=e.match(/^[\r\n]*[\t ]*/)[0],x=Array(m+1).join(p),y=0,b={};b["{"]=function(e){b.singleSpace(),v.push(e),b.newLine()},b["}"]=function(e){b.newLine(),v.push(e),b.newLine()},b.newLine=function(e){if(!e)for(;d.test(v[v.length-1]);)v.pop();v.length&&v.push("\n"),f&&v.push(f)},b.singleSpace=function(){v.length&&!d.test(v[v.length-1])&&v.push(" ")};var v=[];for(f&&v.push(f);;){var C=s();if(!h)break;"{"==h?(u(),b["{"](h)):"}"==h?(l(),b["}"](h)):'"'==h||"'"==h?v.push(i(h)):";"==h?v.push(h,"\n",f):"/"==h&&"*"==o()?(b.newLine(),v.push(a(),"\n",f)):"("==h?c("url",-1)?(v.push(h),r(),n()&&(")"!=h&&'"'!=h&&"'"!=h?v.push(i(")")):g--)):(C&&b.singleSpace(),v.push(h),r()):")"==h?v.push(h):","==h?(r(),v.push(h),b.singleSpace()):"]"==h?v.push(h):"["==h||"="==h?(r(),v.push(h)):(C&&b.singleSpace(),v.push(h))}var _=v.join("").replace(/[\n ]+$/,"");return _}function style_html(e,t){function n(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r	 ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(e,t){for(var n=0;t.length>n;n++)if(e===t[n])return!0;return!1}},this.get_content=function(){for(var e="",t=[],n=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(e,this.Utils.whitespace))t.length&&(n=!0),this.line_char_count--;else{if(n){if(this.line_char_count>=this.max_char){t.push("\n");for(var o=0;this.indent_level>o;o++)t.push(this.indent_string);this.line_char_count=0}else t.push(" "),this.line_char_count++;n=!1}t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos==this.input.length)return["","TK_EOF"];var t="",n=RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var o=n.exec(this.input),i=o?o.index:this.input.length;return i>this.pos&&(t=this.input.substring(this.pos,i),this.pos=i),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1==this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.get_tag=function(){var e,t,n="",o=[],i=!1;do{if(this.pos>=this.input.length)return o.length?o.join(""):["","TK_EOF"];n=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(n,this.Utils.whitespace)?(i=!0,this.line_char_count--):(("'"===n||'"'===n)&&(o[1]&&"!"===o[1]||(n+=this.get_unformatted(n),i=!0)),"="===n&&(i=!1),o.length&&"="!==o[o.length-1]&&">"!==n&&i&&(this.line_char_count>=this.max_char?(this.print_newline(!1,o),this.line_char_count=0):(o.push(" "),this.line_char_count++),i=!1),"<"===n&&(e=this.pos-1),o.push(n))}while(">"!==n);var r,s=o.join("");r=-1!=s.indexOf(" ")?s.indexOf(" "):s.indexOf(">");var a=s.substring(1,r).toLowerCase();if("/"===s.charAt(s.length-2)||this.Utils.in_array(a,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===a)this.record_tag(a),this.tag_type="SCRIPT";else if("style"===a)this.record_tag(a),this.tag_type="STYLE";else if(this.Utils.in_array(a,c)){var u=this.get_unformatted("</"+a+">",s);o.push(u),e>0&&this.Utils.in_array(this.input.charAt(e-1),this.Utils.whitespace)&&o.splice(0,0,this.input.charAt(e-1)),t=this.pos-1,this.Utils.in_array(this.input.charAt(t+1),this.Utils.whitespace)&&o.push(this.input.charAt(t+1)),this.tag_type="SINGLE"}else if("!"===a.charAt(0))if(-1!=a.indexOf("[if")){if(-1!=s.indexOf("!IE")){var u=this.get_unformatted("-->",s);o.push(u)}this.tag_type="START"}else if(-1!=a.indexOf("[endif"))this.tag_type="END",this.unindent();else if(-1!=a.indexOf("[cdata[")){var u=this.get_unformatted("]]>",s);o.push(u),this.tag_type="SINGLE"}else{var u=this.get_unformatted("-->",s);o.push(u),this.tag_type="SINGLE"}else"/"===a.charAt(0)?(this.retrieve_tag(a.substring(1)),this.tag_type="END"):(this.record_tag(a),this.tag_type="START"),this.Utils.in_array(a,this.Utils.extra_liners)&&this.print_newline(!0,this.output);return o.join("")},this.get_unformatted=function(e,t){if(t&&-1!=t.toLowerCase().indexOf(e))return"";var n="",o="",i=!0;do{if(this.pos>=this.input.length)return o;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!i){this.line_char_count--;continue}if("\n"===n||"\r"===n){o+="\n",this.line_char_count=0;continue}}o+=n,this.line_char_count++,i=!0}while(-1==o.toLowerCase().indexOf(e));return o},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return e=this.get_contents_to(t),"string"!=typeof e?e:[e,"TK_"+t]}if("CONTENT"===this.current_mode)return e=this.get_content(),"string"!=typeof e?e:[e,"TK_CONTENT"];if("TAG"===this.current_mode){if(e=this.get_tag(),"string"!=typeof e)return e;var n="TK_TAG_"+this.tag_type;return[e,n]}},this.get_full_indent=function(e){return e=this.indent_level+e||0,1>e?"":Array(e+1).join(this.indent_string)},this.printer=function(e,t,n,o,i){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=n,this.brace_style=i,this.indent_level=0,this.max_char=o,this.line_char_count=0;for(var r=0;this.indent_size>r;r++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){if(this.line_char_count=0,t&&t.length){if(!e)for(;this.Utils.in_array(t[t.length-1],this.Utils.whitespace);)t.pop();t.push("\n");for(var n=0;this.indent_level>n;n++)t.push(this.indent_string)}},this.print_token=function(e){this.output.push(e)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var o,i,r,s,a,c;for(t=t||{},i=t.indent_size||4,r=t.indent_char||" ",a=t.brace_style||"collapse",s=0==t.max_char?1/0:t.max_char||70,c=t.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],o=new n,o.printer(e,r,i,s,a);;){var u=o.get_token();if(o.token_text=u[0],o.token_type=u[1],"TK_EOF"===o.token_type)break;switch(o.token_type){case"TK_TAG_START":o.print_newline(!1,o.output),o.print_token(o.token_text),o.indent(),o.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":o.print_newline(!1,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===o.last_token&&""===o.last_text){var l=o.token_text.match(/\w+/)[0],m=o.output[o.output.length-1].match(/<\s*(\w+)/);(null===m||m[1]!==l)&&o.print_newline(!0,o.output)}o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var p=o.token_text.match(/^\s*<([a-z]+)/i);p&&o.Utils.in_array(p[1],c)||o.print_newline(!1,o.output),o.print_token(o.token_text),o.current_mode="CONTENT";break;case"TK_CONTENT":""!==o.token_text&&o.print_token(o.token_text),o.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==o.token_text){o.output.push("\n");var h=o.token_text;if("TK_SCRIPT"==o.token_type)var d="function"==typeof js_beautify&&js_beautify;else if("TK_STYLE"==o.token_type)var d="function"==typeof css_beautify&&css_beautify;if("keep"==t.indent_scripts)var g=0;else if("separate"==t.indent_scripts)var g=-o.indent_level;else var g=1;var f=o.get_full_indent(g);if(d)h=d(h.replace(/^\s*/,f),t);else{var x=h.match(/^\s*/)[0],y=x.match(/[^\n\r]*$/)[0].split(o.indent_string).length-1,b=o.get_full_indent(g-y);h=h.replace(/^\s*/,f).replace(/\r\n|\r|\n/g,"\n"+b).replace(/\s*$/,"")}h&&(o.print_token(h),o.print_newline(!0,o.output))}o.current_mode="TAG"}o.last_token=o.token_type,o.last_text=o.token_text}return o.output.join("")}var IO=window.IO={events:{},preventDefault:!1,register:function(e,t,n){return this.events[e]||(this.events[e]=[]),this.events[e].push({fun:t,thisArg:n,args:Array.prototype.slice.call(arguments,3)}),this},unregister:function(e,t){return this.events[e]?(this.events[e]=this.events[e].filter(function(e){return e.fun!==t}),this):this},fire:function(e){function t(e){var t=e.fun.apply(e.thisArg,e.args.concat(n));o.preventDefault=t===!1}if(this.preventDefault=!1,this.events[e]){var n=Array.prototype.slice.call(arguments,1),o=this;this.events[e].forEach(t)}},urlstringify:function(){var e={number:!0,string:!0,"boolean":!0},t=function(t){return typeof t in e?encodeURIComponent(""+t):""},n=function(e,n){return e=t(e),n.map(function(t){return o(e,t,!0)}).join("&")},o=function(e,n,o){return o||(e=t(e)),e+"="+t(n)};return function(e){return Object.keys(e).map(function(t){var i=e[t];return Array.isArray(i)?n(t,i):o(t,i)}).join("&")}}(),loadScript:function(e,t){var n=document.createElement("script");n.src=e,n.onload=t,document.head.appendChild(n)}};IO.decodehtmlEntities=function(){var e;e={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪","int":"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"};var t=/&(#x?)?[\w;]+?;/g,n=function(e){return e.slice(1).split(";").map(o).join("")},o=function(t){return"#"===t[0]?i(t):e[t]||t},i=function(e){e=e.slice(1);var t;return t="x"===e[0]?parseInt(e.slice(1),16):parseInt(e,10),String.fromCharCode(t)};return function(e){return e.replace(t,n)}}(),["in","out"].forEach(function(e){var t=e+"put";IO[e]={buffer:[],receive:function(e){return IO.fire("receive"+t,e),IO.preventDefault?this:(this.buffer.push(e),this)},tick:function(){return this.buffer.length&&IO.fire(t,this.buffer.shift()),this},flush:function(){if(IO.fire("before"+t),!this.buffer.length)return this;for(var e=this.buffer.length;e-->0;)this.tick();return IO.fire("after"+t),this.buffer=[],this}}}),IO.xhr=function(e){e=Object.merge({method:"GET",headers:{},complete:function(){}},e),e.headers=Object.merge({"Content-Type":"application/x-www-form-urlencoded"},e.headers),"object"!=typeof e.data||e.data.charAt||(e.data=IO.urlstringify(e.data));var t=new XMLHttpRequest;return t.open(e.method,e.url),t.addEventListener("readystatechange",function(){4===t.readyState&&e.complete.call(e.thisArg,t.responseText,t)}),Object.keys(e.headers).forEach(function(n){t.setRequestHeader(n,e.headers[n])}),t.send(e.data),t},IO.jsonp=function(e){e.data=e.data||{},e.jsonpName=e.jsonpName||"jsonp";var t,n=document.createElement("script");do t="IO_"+Date.now()*Math.ceil(Math.random());while(window[t]);window[t]=function(){e.fun.apply(e.thisArg,arguments),delete window[t],n.parentNode.removeChild(n)},e.data[e.jsonpName]=t,-1===e.url.indexOf("?")&&(e.url+="?"),e.url+=this.urlstringify(e.data),n.src=e.url,document.head.appendChild(n)},IO.jsonp.ddg=function(e,t){IO.jsonp({url:"http://api.duckduckgo.com/",jsonpName:"callback",data:{format:"json",q:e},fun:t})},IO.jsonp.google=function(e,t){IO.jsonp({url:"http://ajax.googleapis.com/ajax/services/search/web",jsonpName:"callback",data:{v:"1.0",q:e},fun:t})},IO.jsonp.image=function(e,t,n){IO.jsonp({url:"https://www.googleapis.com/customsearch/v1",jsonpName:"callback",data:{q:e,searchType:"image",key:"AIzaSyAHOOk144Q4ZQyRA0rxlmC8iZduc31Dnbo",cx:"009867671278203221224:g1mxqhphcsk",num:n,safe:"high"},fun:t})};var i=0;(function(){"use strict";var e=window.bot={invocationPattern:"cc",commandRegex:/^\/\s*([\w\-]+)(?:\s(.+))?$/,commands:{},commandDictionary:null,listeners:[],info:{invoked:0,learned:0,forgotten:0,start:new Date},parseMessage:function(t){if(!this.validateMessage(t))return e.log(t,"parseMessage invalid"),void 0;var n=this.prepareMessage(t),o=n.get("user_id");if(e.log(n,"parseMessage valid"),this.banlist.contains(o))return e.log(t,"parseMessage banned"),this.banlist[o].told||(n.reply("You iz in mindjail"),this.banlist[o].told=!0),void 0;try{n.startsWith(">")?this.eval(n):n.startsWith("<")?this.ai(this.prepareMessage(t)):n.startsWith("/")?this.parseCommand(n):this.callListeners(n)||n.reply("Y U NO MAEK SENSE!? Could not understand `"+n+"`")}catch(i){var r="Could not process input. Error: "+i.message;i.lineNumber&&(r+=" on line "+i.lineNumber),i.column&&(r+=" on column "+i.column),n.directreply(r),console.dir(i)}finally{this.info.invoked+=1}},prepareMessage:function(e){e=this.adapter.transform(e);var t=IO.decodehtmlEntities(e.content);return this.Message(t.slice(this.invocationPattern.length).trim(),e)},parseCommand:function(t){e.log(t,"parseCommand input");var n=this.commandRegex.exec(t);if(!n)return t.reply("Invalid command "+t),void 0;e.log(n,"parseCommand matched");var o=n[1].toLowerCase(),i=this.getCommand(o);if(this.personality.check(o)&&this.personality.command(),i.error)return t.reply(i.error),void 0;if(!i.canUse(t.get("user_id")))return t.reply(["You do not have permission to use the command "+o,"I'm afraid I can't let you do that, "+t.get("user_name")].random()),void 0;e.log(i,"parseCommand calling");var r=this.Message(t.replace(/^\/\s*/,"").slice(o.length).trim(),t.get()),s=i.exec(r);s&&t.reply(s)},validateMessage:function(e){var t=e.content.trim();return t.startsWith(this.invocationPattern)},addCommand:function(e){e.exec&&e.del||(e=this.Command(e)),e.learned&&(this.info.learned+=1),e.invoked=0,this.commands[e.name]=e,this.commandDictionary.trie.add(e.name)},commandExists:function(e){return this.commands.hasOwnProperty(e)},getCommand:function(e){if(this.commandExists(e))return this.commands[e];this.commandDictionary.maxCost=Math.floor(e.length/5+1);var t="Command "+e+" does not exist.",n=this.commandDictionary.search(e);return n.length&&(t+=" Did you mean: "+n.join(", ")),{error:t}},listen:function(e,t,n){Array.isArray(e)?e.forEach(function(e){this.listen(e,t,n)},this):this.listeners.push({pattern:e,fun:t,thisArg:n})},callListeners:function(t){var n=!1;return this.listeners.forEach(function(o){var i,r=t.exec(o.pattern);r&&(i=o.fun.call(o.thisArg,t),e.log(r,i),i&&t.reply(i),n=i!==!1)}),n},stoplog:!1,log:function(){this.stoplog||console.log.apply(console,arguments)},stop:function(){this.stopped=!0},"continue":function(){this.stopped=!1}};e.eval=function(){function e(e){console.log(e,"eval answerObj");var n,o=e.answer,i=e.log;return n=t(o),i&&i.length&&(n+=" Logged: "+t(i)),n}function t(e){var t;return t=e.length>400?"`"+e.slice(0,400)+"` (snip)":"`"+e+"`"}window.URL=window.URL||window.webkitURL||window.mozURL||null;var n=atob("dmFyIGdsb2JhbCA9IHRoaXM7CgovKm1vc3QgZXh0cmEgZnVuY3Rpb25zIGNvdWxkIGJlIHBvc3NpYmx5IHVuc2FmZSovCnZhciB3aGl0ZXkgPSB7CgknQXJyYXknICAgICAgICAgICAgICA6IDEsCgknQm9vbGVhbicgICAgICAgICAgICA6IDEsCgknRGF0ZScgICAgICAgICAgICAgICA6IDEsCgknZGVjb2RlVVJJJyAgICAgICAgICA6IDEsCgknZGVjb2RlVVJJQ29tcG9uZW50JyA6IDEsCgknZW5jb2RlVVJJJyAgICAgICAgICA6IDEsCgknZW5jb2RlVVJJQ29tcG9uZW50JyA6IDEsCgknRXJyb3InICAgICAgICAgICAgICA6IDEsCgknZXZhbCcgICAgICAgICAgICAgICA6IDEsCgknRXZhbEVycm9yJyAgICAgICAgICA6IDEsCgknRnVuY3Rpb24nICAgICAgICAgICA6IDEsCgknZ2xvYmFsJyAgICAgICAgICAgICA6IDEsCgknSW5maW5pdHknICAgICAgICAgICA6IDEsCgknaXNGaW5pdGUnICAgICAgICAgICA6IDEsCgknaXNOYU4nICAgICAgICAgICAgICA6IDEsCgknSlNPTicgICAgICAgICAgICAgICA6IDEsCgknTWF0aCcgICAgICAgICAgICAgICA6IDEsCgknTmFOJyAgICAgICAgICAgICAgICA6IDEsCgknTnVtYmVyJyAgICAgICAgICAgICA6IDEsCgknT2JqZWN0JyAgICAgICAgICAgICA6IDEsCgknb25tZXNzYWdlJyAgICAgICAgICA6IDEsCgkncGFyc2VGbG9hdCcgICAgICAgICA6IDEsCgkncGFyc2VJbnQnICAgICAgICAgICA6IDEsCgkncG9zdE1lc3NhZ2UnICAgICAgICA6IDEsCgknUmFuZ2VFcnJvcicgICAgICAgICA6IDEsCgknUmVmZXJlbmNlRXJyb3InICAgICA6IDEsCgknUmVnRXhwJyAgICAgICAgICAgICA6IDEsCgknc2VsZicgICAgICAgICAgICAgICA6IDEsCgknU3RyaW5nJyAgICAgICAgICAgICA6IDEsCgknU3ludGF4RXJyb3InICAgICAgICA6IDEsCgknVHlwZUVycm9yJyAgICAgICAgICA6IDEsCgkndW5kZWZpbmVkJyAgICAgICAgICA6IDEsCgknVVJJRXJyb3InICAgICAgICAgICA6IDEsCgknd2hpdGV5JyAgICAgICAgICAgICA6IDEsCgoJLyogdHlwZWQgYXJyYXlzIGFuZCBzaGl0ICovCgknQXJyYXlCdWZmZXInICAgICAgIDogMSwKCSdCbG9iJyAgICAgICAgICAgICAgOiAxLAoJJ0Zsb2F0MzJBcnJheScgICAgICA6IDEsCgknRmxvYXQ2NEFycmF5JyAgICAgIDogMSwKCSdJbnQ4QXJyYXknICAgICAgICAgOiAxLAoJJ0ludDE2QXJyYXknICAgICAgICA6IDEsCgknSW50MzJBcnJheScgICAgICAgIDogMSwKCSdVaW50OEFycmF5JyAgICAgICAgOiAxLAoJJ1VpbnQxNkFycmF5JyAgICAgICA6IDEsCgknVWludDMyQXJyYXknICAgICAgIDogMSwKCSdVaW50OENsYW1wZWRBcnJheScgOiAxLAoKCS8qCgl0aGVzZSBwcm9wZXJ0aWVzIGFsbG93IEZGIHRvIGZ1bmN0aW9uLiB3aXRob3V0IHRoZW0sIGEgZnVja2Zlc3Qgb2YKCWluZXhwbGljYWJsZSBlcnJvcnMgZW51c2VzLiB0b29rIG1lIGFib3V0IDQgaG91cnMgdG8gdHJhY2sgdGhlc2UgZnVja2VycwoJZG93bi4KCWZ1Y2sgaGVsbCBpdCBpc24ndCBmdXR1cmUtcHJvb2YsIGJ1dCB0aGUgZXJyb3JzIHRocm93biBhcmUgdW5jYXRjaGFibGUKCWFuZCB1bnRyYWNhYmxlLiBzbyBhIGhlYWRzLXVwLiBlbmpveSwgZnV0dXJlLW1lIQoJKi8KCSdET01FeGNlcHRpb24nIDogMSwKCSdFdmVudCcgICAgICAgIDogMSwKCSdNZXNzYWdlRXZlbnQnIDogMQp9OwoKWyBnbG9iYWwsIGdsb2JhbC5fX3Byb3RvX18gXS5mb3JFYWNoKGZ1bmN0aW9uICggb2JqICkgewoJT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoIG9iaiApLmZvckVhY2goZnVuY3Rpb24oIHByb3AgKSB7CgkJaWYoICF3aGl0ZXkuaGFzT3duUHJvcGVydHkoIHByb3AgKSApIHsKCQkJZGVsZXRlIG9ialsgcHJvcCBdOwoJCX0KCX0pOwp9KTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eSggQXJyYXkucHJvdG90eXBlLCAnam9pbicsIHsKCXdyaXRhYmxlOiBmYWxzZSwKCWNvbmZpZ3VyYWJsZTogZmFsc2UsCgllbnVtcmFibGU6IGZhbHNlLAoKCXZhbHVlOiAoZnVuY3Rpb24gKCBvbGQgKSB7CgkJcmV0dXJuIGZ1bmN0aW9uICggYXJnICkgewoJCQlpZiAoIHRoaXMubGVuZ3RoID4gNTAwIHx8IChhcmcgJiYgYXJnLmxlbmd0aCA+IDUwMCkgKSB7CgkJCQl0aHJvdyAnRXhjZXB0aW9uOiB0b28gbWFueSBpdGVtcyc7CgkJCX0KCgkJCXJldHVybiBvbGQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApOwoJCX07Cgl9KCBBcnJheS5wcm90b3R5cGUuam9pbiApKQp9KTsKCihmdW5jdGlvbigpewoJInVzZSBzdHJpY3QiOwoKCXZhciBjb25zb2xlID0gewoJCV9pdGVtcyA6IFtdLAoJCWxvZyA6IGZ1bmN0aW9uKCkgewoJCQljb25zb2xlLl9pdGVtcy5wdXNoLmFwcGx5KCBjb25zb2xlLl9pdGVtcywgYXJndW1lbnRzICk7CgkJfQoJfTsKCXZhciBwID0gY29uc29sZS5sb2cuYmluZCggY29uc29sZSApOwoKCWZ1bmN0aW9uIGV4ZWMgKCBjb2RlICkgewoJCXZhciByZXN1bHQ7CgkJdHJ5IHsKCQkJcmVzdWx0ID0gZXZhbCggJyJ1c2Ugc3RyaWN0Ijt1bmRlZmluZWQ7XG4nICsgY29kZSApOwoJCX0KCQljYXRjaCAoIGUgKSB7CgkJCXJlc3VsdCA9IGUudG9TdHJpbmcoKTsKCQl9CgoJCXJldHVybiByZXN1bHQ7Cgl9CgoJZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uICggZXZlbnQgKSB7CgkJdmFyIGpzb25TdHJpbmdpZnkgPSBKU09OLnN0cmluZ2lmeSwgLypiYWNrdXAqLwoJCQlyZXN1bHQgPSBleGVjKCBldmVudC5kYXRhICk7CgoJCXZhciBzdHJ1bmcgPSB7CgkJCUZ1bmN0aW9uICA6IHRydWUsIEVycm9yICA6IHRydWUsCgkJCVVuZGVmaW5lZCA6IHRydWUsIFJlZ0V4cCA6IHRydWUKCQl9OwoJCXZhciByZXZpdmVyID0gZnVuY3Rpb24gKCBrZXksIHZhbHVlICkgewoJCQl2YXIgdHlwZSA9ICgge30gKS50b1N0cmluZy5jYWxsKCB2YWx1ZSApLnNsaWNlKCA4LCAtMSApLAoJCQkJb3V0cHV0OwoKCQkJLypKU09OLnN0cmluZ2lmeSBkb2VzIG5vdCBsaWtlIGZ1bmN0aW9ucywgZXJyb3JzLCBOYU4gb3IgdW5kZWZpbmVkKi8KCQkJaWYgKCB0eXBlIGluIHN0cnVuZyB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7CgkJCQlvdXRwdXQgPSAnJyArIHZhbHVlOwoJCQl9CgkJCWVsc2UgewoJCQkJb3V0cHV0ID0gdmFsdWU7CgkJCX0KCgkJCXJldHVybiBvdXRwdXQ7CgkJfTsKCgkJcG9zdE1lc3NhZ2UoewoJCQlhbnN3ZXIgOiBqc29uU3RyaW5naWZ5KCByZXN1bHQsIHJldml2ZXIgKSwKCQkJbG9nICAgIDoganNvblN0cmluZ2lmeSggY29uc29sZS5faXRlbXMsIHJldml2ZXIgKS5zbGljZSggMSwgLTEgKQoJCX0pOwoJfTsKfSkoKTsK"),o=new Blob([n],{type:"application/javascript"}),i=window.URL.createObjectURL(o);
return function(t){function n(e){clearTimeout(o),r.terminate(),t.directreply(e)}var o,r=new Worker(i);r.onmessage=function(t){n(e(t.data))},r.onerror=function(e){n(""+e)},r.postMessage(t.content.replace(/^>/,"")),o=window.setTimeout(function(){n("Maximum execution time exceeded")},100)}}(),e.ai=function(){return function(e){var t=0,n=!1,o=function(){console.log(CryptoJS);var o=function(){this.params=o.default_params};o.default_params={stimulus:"",start:"y",sessionid:"",vText8:"",vText7:"",vText6:"",vText5:"",vText4:"",vText3:"",vText2:"",icognoid:"wsf",icognocheck:"",fno:"0",prevref:"",emotionaloutput:"",emotionalhistory:"",asbotname:"",ttsvoice:"",typing:"",lineref:"",sub:"Say",islearning:"1",cleanslate:"false"},o.parserKeys=["message","sessionid","logurl","vText8","vText7","vText6","vText5","vText4","vText3","vText2","prevref","","emotionalhistory","ttsLocMP3","ttsLocTXT","ttsLocTXT3","ttsText","lineref","lineURL","linePOST","lineChoices","lineChoicesAbbrev","typingData","divert"],o.digest=function(e){var t=CryptoJS.MD5(e);return t.toString(CryptoJS.enc.Hex)},o.encodeParams=function(e){var t=[];for(var n in e)e[n]instanceof Array?t.push(n+"="+encodeURIComponent(e[n].join(","))):e[n]instanceof Object?t.push(o.default_params[e[n]]):t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},o.prototype={write:function(e,i){var r=this;body=this.params,body.stimulus=e,body.icognocheck=o.digest(o.encodeParams(body).substring(9,29));var s={host:"http://www.cleverbot.com",port:80,path:"/webservicemin",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}},a=new XMLHttpRequest;a.open(s.method,s.host+s.path,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(o.encodeParams(body)),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){for(var e=i||function(){},s=(""+a.responseText).split("\r"),c={},u=0,l=s.length;l>u;u++)r.params[o.parserKeys[u]]=c[o.parserKeys[u]]=s[u];0==t&&(n=!0,e(c)),t++}}}};var i=[new o,new o],r=0,s=function s(t){i[r].write(t.message,s),n&&e.directreply(t.message),console.log(t.message,"responce")};s({message:e.content.replace(/^</,"")})},i=document.createElement("script");i.src="http://crypto-js.googlecode.com/svn/tags/3.0.2/build/rollups/md5.js",i.type="text/javascript",i.onreadystatechange=function(){},i.onload=o,document.getElementsByTagName("head")[0].appendChild(i)}}(),e.banlist=JSON.parse(localStorage.bot_ban||"{}"),Array.isArray(e.banlist)&&(e.banlist=e.banlist.reduce(function(e,t){return e[t]={told:!1},e},{})),e.banlist.contains=function(e){return this.hasOwnProperty(e)},e.banlist.add=function(e){this[e]={told:!1},this.save()},e.banlist.remove=function(e){this.contains(e)&&(delete this[e],this.save())},e.banlist.save=function(){localStorage.bot_ban=JSON.stringify(this)},e.Command=function(t){return t.name=t.name.toLowerCase(),t.permissions=t.permissions||{},t.permissions.use=t.permissions.use||"ALL",t.permissions.del=t.permissions.del||"NONE",t.description=t.description||"",t.creator=t.creator||"God",t.invoked=0,["Use","Del"].forEach(function(e){var n=e.toLowerCase();t["can"+e]=function(e){var t=this.permissions[n];return"ALL"===t||"NONE"!==t&&t.indexOf(e)>-1}}),t.exec=function(){return this.invoked+=1,this.fun.apply(this.thisArg,arguments)},t.del=function(){e.info.forgotten+=1,delete e.commands[t.name]},t},e.CommunityCommand=function(e,t){function n(e){if(a.call(i,e))return!1;o();var n=Object.keys(r).length,s=t-n;return console.log(r,n,t),e in r?"Already registered; still need {0} more".supplant(s):s>0?(r[e]=new Date,"Registered; need {0} more to execute".supplant(s-1)):(console.log("should execute"),!1)}function o(){function e(e,n){return t>e[n]&&delete e[n],e}var t=new Date;t.setMinutes(t.getMinutes()-10),Object.keys(r).reduce(e,r)}var i=this.Command(e),r={},s=i.exec,a=i.canUse;return t=t||2,i.canUse=function(){return!0},i.exec=function(e){var t=n(e.get("user_id"));return t?(console.log(t),t):s.apply(i,arguments)},i},e.Message=function(t,n){var o=Object(t);o.content=t;var i={send:function(t){e.adapter.out.add(t,n.room_id)},reply:function(t){var o=e.adapter.reply(n.user_name);this.send(o+" "+t)},directreply:function(t){var o=e.adapter.directreply(n.message_id);this.send(o+" "+t)},parse:function(o,i){!!o===o&&(i=o,o=t);var r=e.parseCommandArgs(o||t);return i?r.map(function(t){return e.Message(t,n)}):r},exec:function(e){var n=e.exec(t);return this.matches=n?n:[],n},findUserid:function(e){var t=[].slice.call(document.getElementById("sidebar").getElementsByClassName("user-container")),n=t.map(function(e){return e.id.match(/\d+/)[0]}),o=t.map(function(e){return e.getElementsByTagName("img")[0].title.toLowerCase().replace(/\s/g,"")}),i=o.indexOf((""+e).toLowerCase().replace(/\s/g,""));return 0>i?-1:Number(n[i])}.memoize(),codify:e.adapter.codify.bind(e.adapter),escape:e.adapter.escape.bind(e.adapter),link:e.adapter.link.bind(e.adapter),get:function(e){return e?n[e]:n},set:function(e,t){return n[e]=t}};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o},e.owners=[1482644,1673476],e.isOwner=function(e){return this.owners.indexOf(e)>-1},IO.register("input",e.parseMessage,e),Object.merge=function(){return[].reduce.call(arguments,function(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},{})},String.prototype.indexesOf=function(e,t){for(var n=(t||0)-1,o=[];(n=this.indexOf(e,n+1))>-1;)o.push(n);return o},String.prototype.startsWith=function(e){return 0===this.indexOf(e)},Object.defineProperty(Array.prototype,"invoke",{value:function(e){var t=[].slice.call(arguments,1);return this.map(function(n){var o=n;return n[e]&&n[e].apply&&(o=n[e].apply(n,t)),o})},configurable:!0,writable:!0}),Object.defineProperty(Array.prototype,"first",{value:function(e){return this.some(function(t){return e.apply(null,arguments)&&((e=t)||!0)})?e:null},configurable:!0,writable:!0}),Object.defineProperty(Array.prototype,"random",{value:function(){return this[Math.floor(Math.random()*this.length)]},configurable:!0,writable:!0}),Function.prototype.memoize=function(){var e=Object.create(null),t=this;return function(n){if(n in e)return e[n];var o=t.apply(null,arguments);return e[n]=o,o}},Function.prototype.memoizeAsync=function(e){var t=Object.create(null),n=this,e=e||function(e){return e};return function(){function o(){t[s]=arguments,r.apply(null,arguments)}var i=[].slice.call(arguments),r=i.pop(),s=e.apply(null,arguments);return s in t?(r.apply(null,t[s]),void 0):(i.push(o),n.apply(this,i),void 0)}},Number.prototype.maxDecimal=function(e){var t=Math.pow(10,e);return Math.floor(this*t)/t},Number.prototype.fallsAfter=function(e){e=e.slice();for(var t,n=e.shift(),o=this.valueOf(),i=0,r=e.length;r>i&&(t=e[i],!(t>o));i++)n=t;return o>=n?n:null},Math.ratio=function(e,t){e=Number(e),t=Number(t);var n=this.gcd(e,t);return e/n+":"+t/n},Math.gcd=function(e,t){return t?this.gcd(t,e%t):e},Math.rand=function(e,t){return e?t||(t=e,e=0):(e=0,t=9),Math.floor(Math.random()*(t-e+1))+e},String.prototype.supplant=function(e){function t(e,t){return n.hasOwnProperty(t)?n[t]:e}var n=Object(e)===e?e:arguments;return this.replace(/\{([^\}]+)\}/g,t)},Object.defineProperty(RegExp.prototype,"toJSON",{value:function(){return""+this},configurable:!0,writable:!0}),Date.timeSince=function(e,t){function n(e,t){return e=Math.floor(e),t+=1===e?"":"s",e+" "+t}t=t||new Date;for(var o,i=t-e,r=[{delta:31536e6,suffix:"year"},{delta:2592e6,suffix:"month"},{delta:864e5,suffix:"day"},{delta:36e5,suffix:"hour"},{delta:6e4,suffix:"minute"},{delta:1e3,suffix:"second"}];o=r.shift();)if(i>=o.delta)return n(i/o.delta,o.suffix);return n(i,"millisecond")},function(){var t;t=e!==void 0?e:"undefined"!=typeof exports?exports:window,t.parseCommandArgs=function(){var e=0,t=1,n=2,o=3,i="'",r='"',s={parse:function(t,n,o){this.source=t,this.pos=0,this.length=t.length,this.state=e,this.lookahead="",this.escaper=o||"~",this.separator=n||" ";var i=this.tokenize();return this.state!==e&&this.throwFinishError(),i},tokenize:function(){for(var e,t=[];this.length>this.pos;)e=this.nextArg(),e&&t.push(e);return t},nextArg:function(){var t,n="";for(this.state=e;;){if(t=this.nextChar(),null===t||this.state===o)break;n+=t}return n},nextChar:function(t){var n=this.lookahead=this.source[this.pos];return this.pos++,n?t?n:n===this.escaper?this.nextChar(!0):n===this.separator&&this.state===e?(this.state=o,n):this.string():null},string:function(){var e=this.lookahead;return e===i?this.singleQuotedString():e===r?this.doubleQuotedString():e},singleQuotedString:function(){return this.state===n?this.lookahead:(this.state=this.state!==t?t:e,this.nextChar())},doubleQuotedString:function(){return this.state===t?this.lookahead:(this.state=this.state!==n?n:e,this.nextChar())},throwFinishError:function(){var e="";this.state===t?e="Expected "+i:this.state===n&&(e="Expected "+r);var o=Error("Unexpected end of input: "+e);throw o.column=this.pos,o}};return function(){return s.parse.apply(s,arguments)}}()}();var t=function(){function e(){this.word=null,this.children={}}function t(n){if(!(this instanceof t))throw new TypeError("Illegal function call");if(n=Number(n),isNaN(n)||1>n)throw new TypeError("maxCost must be an integer > 1 ");this.maxCost=n,this.trie=new e}function n(e,t){var n,o,i,r=[];for(void 0===t?(i=0,o=e):(i=e,o=t-i),n=0;o>n;++n)r[n]=i++;return r}function o(e,t,o){var r=[],s=n(e.length+1);return Object.keys(o.children).forEach(function(n){i(o.children[n],n,e,s,r,t)}),r}function i(e,t,n,o,r,s){var a,c,u,l,m,p=n.length+1,h=[o[0]+1];for(a=1;p>a;++a)c=h[a-1]+1,u=o[a]+1,l=n.charAt(a-1)!==t?o[a-1]+1:o[a-1],h.push(Math.min(c,u,l));m=h[h.length-1],s>=m&&null!==e.word&&r.push([e.word,m]),s>=Math.min.apply(Math,h)&&Object.keys(e.children).forEach(function(t){i(e.children[t],t,n,h,r,s)})}return e.prototype.add=function(t){for(var n,o=this,i=0;n=t.charAt(i++);)n in o.children||(o.children[n]=new e),o=o.children[n];o.word=t},t.prototype={constructor:t,build:function(t){if(!Array.isArray(t))throw new TypeError("Cannot build a dictionary from "+t);this.trie=new e,t.forEach(function(e){this.trie.add(e)},this)},__sortfn:function(e,t){return e[1]-t[1]},search:function(e){e=e.valueOf();var t;if("string"!=typeof e)throw new TypeError("Cannot search "+e);if(void 0===this.trie)throw new TypeError("Cannot search, dictionary isn't built yet");return t=o(e,this.maxCost,this.trie),t.sort(this.__sortfn),t.map(function(e){return e[0]})}},t}();e.commandDictionary=new t(3),function(){var t={help:function(t){if(t&&t.length){var n=e.getCommand(t);if(n.error)return n.error;var o=n.description||"No info is available";return t+": "+o}return"https://github.com/Zirak/SO-ChatBot/wiki/Interacting-with-the-bot"},listen:function(t){return e.callListeners(t)},eval:function(t){return e.eval(t)},live:function(){return e.stopped?(e.continue(),"And on this day, you shall paint eggs for a giant bunny."):"I'm not dead! Honest!"},die:function(){return e.stopped?"Kill me once, shame on you, kill me twice...":(e.stop(),"You killed me!")},refresh:function(){window.location.reload()},forget:function(t){var n=t.toLowerCase(),o=e.getCommand(n);return o.error?o.error:o.canDel(t.get("user_id"))?(o.del(),"Command "+n+" forgotten."):"You are not authorized to delete the command "+t},ban:function(t){function n(n){var i,r=Number(n);isNaN(r)&&(r=t.findUserid(n.replace(/^@/,""))),0>r?i="Cannot find user {0}.":e.isOwner(r)?i="Cannot mindjail owner {0}.":e.banlist.contains(r)?i="User {0} already in mindjail.":(e.banlist.add(r),i="User {0} added to mindjail."),o.push(i.supplant(n))}var o=[];return t.content?t.parse().forEach(n):o=Object.keys(e.banlist).filter(Number),o.join(" ")||"Nothing to show/do."},unban:function(t){function n(n){var i,r=Number(n);isNaN(r)&&(r=t.findUserid(n.replace(/^@/,""))),0>r?i="Cannot find user {0}.":e.banlist.contains(r)?(e.banlist.remove(r),i="User {0} freed from mindjail!"):i="User {0} isn't in mindjail.",o.push(i.supplant(n))}var o=[];return t.parse().forEach(n),o.join(" ")},info:function(t){function n(t){var n=e.getCommand(t);if(n.error)return n.error;var o="Command {name}, created by {creator}".supplant(n);return n.date&&(o+=" on "+n.date.toUTCString()),o+=n.invoked?", invoked "+n.invoked+" times":" but hasn't been used yet"}function o(){var e="I awoke on {0} (that's about {1} ago)",t=r.start.toUTCString(),n=Date.timeSince(r.start);return e.supplant(t,n)}function i(){var e=[],t="";return r.invoked&&e.push("got invoked "+r.invoked+" times"),r.learned&&(t="but ",e.push("learned "+r.learned+" commands")),r.forgotten&&e.push(t+"forgotten "+r.forgotten+" commands"),.15>Math.random()&&e.push("teleported "+Math.rand(100)+" goats"),e.join(", ")||"haven't done anything yet!"}if(t.content)return n(t.content);var r=e.info;return o()+", "+i()},jquery:function n(t){var o=t.parse(!0);if(o.length>1)return o.map(n).join(" ");var i,r=t.trim().replace(/^\$/,"jQuery"),s=r.split("."),a=!1,c=r;return e.log(r,s,"/jquery input"),3===s.length&&(s=[s[2]]),"jQuery"===s[0]&&jQuery[s[1]]?a=!0:1===s.length&&jQuery.prototype[s[0]]?(c=s[0],a=!0):jQuery[s[0]]&&(c="jQuery."+s[0],a=!0),i=a?"http://api.jquery.com/"+c:"http://api.jquery.com/?s="+encodeURIComponent(t),e.log(i,"/jquery link"),i},choose:function(t){function n(e){return"or"!==e}var o=t.parse().filter(n),i=Math.random(),r=o.length;return e.log(o,i,"/choose input"),.1>i?2===r?"Neither":"None of the above":.25>i?2===r?"Both!":"All of the above":o[Math.floor(Math.random()*r)]},user:function(e){var t=e.parse(),n=t[0]||e.get("user_id"),o=n;return!/^\d+$/.test(n)&&(o=e.findUserid(n),0>o)?"Can't find user "+n+" in this chatroom.":(e.directreply("http://stackoverflow.com/users/"+o),void 0)},listcommands:function(t){var n=Object.keys(e.commands),o=Number(t.content)||0,i=50,r=o*i,s=r+i,a=Math.max(0,n.length-s)/i,c=n.slice(r,s).join(", ");return a&&(c+=" ({0} pages left)".supplant(a)),c},purgecommands:function(t){function n(t){return e.commands[t]}function o(e){e.learned&&e.canDel(i)&&e.del()}var i=t.get("user_id");return Object.keys(e.commands).map(n).forEach(o),"The deed has been done."}};t.define=function(){var t=Object.create(null);return function(n,o){function i(o){var i=o.AbstractURL,s=o.AbstractText;e.log(i,s,"/define finishCall input"),"Merriam-Webster"===o.AbstractSource&&(s=s.replace(n+" definition: ",""),e.log(s,"/define finishCall webster")),s?(s=n+": "+s,s+=" [\\(source\\)]("+i+")",t[n]=s):(s="Could not find definition for "+n+". Trying Urban Dictionary",e.getCommand("urban").exec(n)),e.log(s,"/define finishCall output"),r(s)}function r(e){o&&o.call?o(e):n.directreply(e)}return t[n]?r(t[n]):(IO.jsonp.ddg("define "+(""+n),i),void 0)}}(),t.define.async=!0,t.norris=function(e,t){function n(n){var o;o="success"!==n.type?"Chuck Norris is too awesome for this API. Try again.":IO.decodehtmlEntities(n.value.joke),t&&t.call?t(o):e.reply(o)}var o="http://api.icndb.com/jokes/random";IO.jsonp({url:o,fun:n,jsonpName:"callback"})},t.norris.async=!0,t.urban=function(){var e=Object.create(null);return function(t,n){function o(n){var o;o="no_results"===n.result_type?"Y U NO MAEK SENSE!!!???!!?11 No results for "+t:r(n.list[0]),e[t]=o,i(o)}function i(e){n&&n.call?n(e):t.reply(e)}function r(e){return t.link(e.word,e.permalink)+" "+e.definition}return t.length?e[t]?i(e[t]):(IO.jsonp({url:"http://www.urbandictionary.com/iphone/search/define",data:{term:t.content},jsonpName:"callback",fun:o}),void 0):"Y U NO PROVIDE ARGUMENTS!?"}}(),t.urban.async=!0,t.parse=function(){var t={who:function(){return[].pop.call(arguments).get("user_name")},someone:function(){var e=document.getElementById("sidebar").getElementsByClassName("present-user"),t=[].filter.call(e,function(e){return Number(e.style.opacity)>=.5}),n=t[Math.floor(Math.random()*(t.length-1))];return n?n.getElementsByTagName("img")[0].title:"Nobody! I'm all alone :("},digit:function(){return Math.floor(10*Math.random())},encode:function(e){return encodeURIComponent(e)},rand:function(e,t){return e=Number(e),t=Number(t),Math.rand(e,t)}},n=/(?:.|^)\$(\w+)(?:\((.*?)\))?/g;return function o(i,r){function s(t,n,o){if(t.startsWith("$$"))return t.slice(1);var i="";"$"!==t[0]&&(i=t[0]);var r=c(n);return r?(e.log(r,n,o,"/parse replaceMacro"),i+=r.apply?r.apply(null,a(o)):r):n}function a(e){return console.log(e,"/parse parseMacroArgs"),e?o(e,r).split(",").invoke("trim").concat(i):[]}function c(e){function n(t){return t.hasOwnProperty(e)}return([t,u,r].first(n)||[])[e]}var u=i.get&&i.get()||{};return r=r||{},e.log(i,r,"/parse input"),i.replace(n,s)}}(),t.tell=function(){var t={tell:!0,forget:!0};return function(n){function o(e){e&&(c?m.directreply(e):m.reply(e))}var i=n.parse();e.log(n.valueOf(),i,"/tell input");var r,s=i[0],a=i[1];if(!s||!a)return"Invalid /tell arguments. Use /help for usage info";if(a=a.toLowerCase(),r=e.getCommand(a),r.error)return r.error;if(t.hasOwnProperty(a))return"Command "+a+" cannot be used in /tell.";if(!r.canUse(n.get("user_id")))return"You do not have permission to use command "+a;if(/^@/.test(s))return"Don't be annoying, drop the @, nobody likes a double-ping.";var c=!1,u={};/^:?\d+$/.test(s)?(u.message_id=s.replace(/^:/,""),c=!0):u.user_name=s;var l=Object.merge(n.get(),u);console.log(l);var m=e.Message(n.slice(s.length+a.length+2).trim(),l);console.log(m.get()),e.log(m,"/tell calling "+a),r.async?r.exec(m,o):o(r.exec(m))}}(),t.mdn=function(t,n){function o(t){if(200!==t.responseStatus)return i("Something went on fire; status "+t.responseStatus),void 0;var n=t.responseData.results[0];e.log(n,"/mdn result"),i(n.url)}function i(e){n&&n.call?n(e):t.reply(e)}IO.jsonp.google(""+t+" site:developer.mozilla.org",o)},t.mdn.async=!0;var o={ban:"Bans user(s) from using me. Lacking arguments, prints the banlist. `/ban [usr_id|usr_name, [...]`",choose:'"Randomly" choose an option given. `/choose option0 option1 ...`',define:"Fetches definition for a given word. `/define something`",die:"Kills me :(",eval:"Forwards message to javascript code-eval",forget:"Forgets a given command. `/forget cmdName`",get:"Grabs a question/answer link (see online for thorough explanation)",help:"Fetches documentation for given command, or general help article. `/help [cmdName]`",info:"Grabs some stats on my current instance or a command. `/info [cmdName]`",jquery:"Fetches documentation link from jQuery API. `/jquery what`",listcommands:"Lists commands. `/listcommands [page=0]`",listen:"Forwards the message to my ears (as if called without the /)",live:"Resurrects me (:D) if I'm down",mdn:"Fetches mdn documentation. `/mdn what`",norris:"Random chuck norris joke!",parse:'Returns result of "parsing" message according to the my mini-macro capabilities (see online docs)',purgecommands:"Deletes all user-taught commands.",refresh:"Reloads the browser window I live in",regex:"Executes a regex against text input. `/regex text regex [flags]`",tell:"Redirect command result to user/message. /tell `msg_id|usr_name cmdName [cmdArgs]`",unban:"Removes a user from my mindjail. `/unban usr_id|usr_name`",urban:"Fetches UrbanDictionary definition. `/urban something`",user:"Fetches user-link for specified user. `/user usr_id|usr_name`"},i={die:!0,live:!0,ban:!0,unban:!0,refresh:!0,purgecommands:!0},r={die:!0,ban:!0};Object.keys(t).forEach(function(n){var s={name:n,fun:t[n],permissions:{del:"NONE",use:i[n]?e.owners:"ALL"},description:o[n],async:t[n].async};r[n]&&(s=e.CommunityCommand(s)),e.addCommand(s)})}(),function(){e.listen(/^help(?: (\S+))?/,function(t){return e.getCommand("help").exec(t.matches[1])});var t=["A robot may not injure a human being or, through inaction, allow a human being to come to harm.","A robot must obey the orders given to it by human beings, except where such orders would conflict with the First Law.","A robot must protect its own existence as long as such protection does not conflict with the First or Second Laws."].map(function(e,t){return t+". "+e}).join("\n");e.listen(/^tell (me (your|the) )?(rule|law)s/,function(){return t}),e.listen(/^give (.+?) a lick/,function(e){var t,n=e.matches[1];return"me"===n?(n="you",t=""):"yourself"===n?(n="I",t=""):t="s","Mmmm! "+n+" taste"+t+" just like raisin"});var n=[/^what(?:'s|'re)?\s(?:(?:is|are)\s)?(?:(?:an|a)\s)?([\w\s\-]+)\??/,/^define\s(?:(?:an|a)\s)?([\w\s\-]+)/];e.listen(n,function(t){var n=t.matches[1],o=e.getCommand("define");o.exec(n,function(e){e=e.replace(n+":",""),t.reply(e)})})}()})(),bot.personality={bitchiness:0,thanks:{0:["You kiss-ass"],.5:["Thank you for noticing","teehee"],1:["Took you long enough","My pleasure","Don't mention it"]},apologies:{0:["What for?"],.5:["It was nothing...","No worries"],1:["You're forgiven. For now. Don't push it."]},stuff:{1:["Oh don't mind me, that isn't difficult at all..."],1.2:["You don't appreciate me enough. Not that I need to be thanked.."],1.3:['The occasional "thanks" or "I\'m sorry" would be nice...'],2:["*sigh* Remember laughter? I don't. You ripped it out of me. Heartless bastard."]},insanity:{},okayCommands:{hangman:!0,help:!0},check:function(e){return!this.okayCommands.hasOwnProperty(e)},bitch:function(){return this.getResp(this.stuff)},command:function(){this.bitchiness+=this.getDB()},thank:function(){return this.unbitch(this.thanks)},apologize:function(){return this.unbitch(this.apologies)},unbitch:function(e,t){var n=this.getResp(e);return this.bitchiness-=t||this.bitchiness,n},getResp:function(e){return e[this.bitchiness.fallsAfter(Object.keys(e).map(Number).sort())].random()},isABitch:function(){return this.bitchiness>=1},looksLikeABitch:function(){return!1},getDB:function(){return this.isThatTimeOfTheMonth()?.075:.025},isThatTimeOfTheMonth:function(){var e=(new Date).getDate();return 2>e||e>27}},bot.listen(/thank(s| you)/,bot.personality.thank,bot.personality),bot.listen(/sorry/,bot.personality.apologize,bot.personality),bot.listen(/bitch/,bot.personality.bitch,bot.personality),function(){var e="[{text}]({url})";bot.adapter={roomid:null,fkey:null,site:null,init:function(){var e=document.getElementById("fkey");return e?(this.fkey=e.value,this.roomid=/\d+/.exec(location)[0],this.site=/chat\.(\w+)/.exec(location)[1],this.in.init(),this.out.init(),void 0):(console.error("bot.adapter could not find fkey; aborting"),void 0)},transform:function(e){return e},escape:function(e){return e.replace(/([`\*_\(\)\[\]])/g,"\\$1")},reply:function(e){return"@"+e.replace(/\s/g,"")},directreply:function(e){return":"+e},codify:function(e){var t="    ",n=e.replace("	",t),o=n.split(/[\r\n]/g);return 1===o.length?"`"+o[0]+"`":o.map(function(e){return t+e}).join("\n")},link:function(t,n){return e.supplant({text:this.escape(t),url:n})}};var t=bot.adapter.in={times:{},lastTimes:{},interval:5e3,init:function(){function e(e){e=JSON.parse(e),bot.log(e),t.openSocket(e.url)}var t=this,n=bot.adapter.roomid;IO.xhr({url:"/ws-auth",data:fkey({roomid:n}),method:"POST",complete:e})},openSocket:function(e){var t=this.socket=new WebSocket(e+"?l=99999999999");t.onmessage=this.ondata.bind(this)},ondata:function(e){this.pollComplete(e.data)},pollComplete:function(e){e&&(e=JSON.parse(e),Object.keys(e).forEach(function(t){var n=e[t];n.t&&(this.times[t]=n.t),n.e&&n.e.forEach(this.handleMessageObject,this)},this),IO.in.flush(),IO.fire("heartbeat"))},handleMessageObject:function(e){return 1===e.event_type||2===e.event_type?(this.lastTimes[e.room_id]=Date.now(),e.content.startsWith("<div class='full'>")?(this.handleMultilineMessage(e),void 0):(IO.in.receive(e),void 0)):void 0},handleMultilineMessage:function(e){var t=e.content.slice(0,e.content.lastIndexOf("</div>")).replace("<div class='full'>","");t.split("<br>").forEach(function(t){this.handleMessageObject(Object.merge(e,{content:t.trim()}))},this)}},n=bot.adapter.out={interval:t.interval+500,messages:{},init:function(){this.loopage()},add:function(e,t){t=t||bot.adapter.roomid,IO.out.receive({text:e+"\n",room:t})},build:function(e){this.messages[e.room]||(this.messages[e.room]=""),this.messages[e.room]+=e.text},send:function(){bot.stopped||Object.keys(this.messages).forEach(function(e){var t=this.messages[e];t&&this.sendToRoom(t,e)},this),this.messages={}},sendToRoom:function(e,t){function o(o,i){bot.log(i.status),409===i.status?n.add(e,t):500===i.status?n.add("Server error (status 500) occured  (message probably too long)",t):IO.fire("sendoutput",i)}IO.xhr({url:"/chats/"+t+"/messages/new",data:{text:e,fkey:fkey().fkey},method:"POST",complete:o})},loopage:function(){var e=this;setTimeout(function(){IO.out.flush(),e.loopage()},this.interval)}};IO.register("output",n.build,n),IO.register("afteroutput",n.send,n),bot.adapter.init()}(),function(){function e(e){function o(t){t?(bot.log(t,"/beautify beautifying"),e.send(e.codify(s[c](t)))):(bot.log("/beautify not found"),e.reply(r.supplant(u)))}var i=e.parse(),a=i.shift(),c=(i.shift()||"js").toLowerCase();if(bot.log(a,c,"/beautify input"),!s.hasOwnProperty(c))return"Unrecognized language {0}. Options: {1}".supplant(c,Object.keys(s).join(", "));var u=Number(n(a,e));return 0>u?r.supplant(u):(t(u,o),void 0)}function t(e,t){function n(e){e="\r"===e[0]?null:IO.decodehtmlEntities(e),t(e)}IO.xhr({method:"GET",url:"/message/"+e,data:{plain:!0},complete:n})}function n(e,t){if(/^\d+$/.test(e))return e;bot.log(e,"/beautify fetch_message_id");var n=o(t.findUserid(e));return n?/\d+/.exec(n.id)[0]:-1}function o(e){function t(e){return/\bmonologue\b/.test(e.className)}var n=[].filter.call(document.getElementsByClassName("user-"+e),t).pop();return n?[].pop.call(n.getElementsByClassName("message")):void 0}var i="Fetches and beautifies a message containing html, css or js. `/beautify msgid [lang=js]`",r="Message {0} not found",s={js:js_beautify,css:css_beautify,html:style_html};bot.addCommand({name:"beautify",fun:e,permission:{del:"NONE"},description:i})}(),"undefined"!=typeof exports&&(exports.js_beautify=js_beautify),"undefined"!=typeof exports&&(exports.css_beautify=css_beautify),function(){function e(){function e(){console.log("triggered bored")}function o(e){return i>=r[e]+n}if(t){t=!1;var i=Date.now(),r=bot.adapter.in.lastTimes;Object.keys(r).filter(o).forEach(e)}}var t=!1,n=3e5;IO.register("heartbeat",e)}(),function(){"use strict";function e(){return Object.keys(t).concat(Object.keys(n))}var t={C:function(e){return{F:1.8*e+32,K:e+273.15}},F:function(e){return{C:(e-32)/1.8,K:5*(e+459.67)/9}},K:function(e){return 0>e?null:{C:e-273.15,F:1.8*e-459.67}},m:function(e){return{f:3.280839895*e}},f:function(e){var t=e/3.28083989;return t>1e3?{km:t/1e3}:.01>t?{mm:1e3*t}:{m:e/3.28083989}},km:function(e){return t.m(1e3*e)},mm:function(e){return t.m(e/1e3)},i:function(e){return t.f(e/12)},d:function(e){return{r:180*e/Math.PI}},r:function(e){return{d:e*Math.PI/180}},g:function(e){return{lb:.0022*e}},lb:function(e){var t=453.592*e;return t>1e3?{kg:t/1e3}:{g:453.592*e}},kg:function(e){return t.g(1e3*e)}},n={lbs:"lb"},o=/(-?\d+\.?\d*)\s*([^\s]+)/,i=function(i){function r(e){return u[e].maxDecimal(4)+e}if(bot.log(i,"/convert input"),"list"==""+i)return e().join(", ");var s=o.exec(i),a=Number(s[1]),c=s[2];if(bot.log(s,"/convert broken"),n[c]&&(c=n[c]),!t[c])return"Confuse converter with "+c+", receive error message";var u=t[c](a);return bot.log(u,"/console answer"),Object.keys(u).map(r).join(", ")};bot.addCommand({name:"convert",fun:i,permissions:{del:"NONE"},description:"Converts several units, case sensitive. `/convert <num><unit>` Pass in list for supported units `/convert list`"})}();var cowsay=function(){"use strict";function e(e,t){function n(e,n){var i=n.length;return o+i>t&&(e+="\n",o=0),o+=i+1,e+n+" "}var o=0;return e.split(" ").reduce(n,"")}function t(e,t,n){return n=n||" ",(e+Array(t).join(n)).slice(0,t)}var n={defaults:{e:"oo",T:"  ",t:!1,W:40},cow:["","        L   ^__^","         L  (e)\\_______","            (__)\\       )\\/\\","             T ||----w |","                ||     ||"].join("\n"),moo:function(n,o){var i=this.defaults;return this.eyes=t(o.e||i.e,2).slice(0,2),this.tongue=t(o.T||i.T,2).slice(0,2),this.line=o.t?"O":"\\",this.thinking=o.t,console.log(this.eyes,this.tongue),this.message=e(n,o.W||i.W).trim(),this.makeBalloon()+this.makeCow()},makeCow:function(){return this.cow.replace(/e/g,this.eyes).replace(/T/g,this.tongue).replace(/L/g,this.line)},makeBalloon:function(){function e(e,n){var o;return o=0===n?s.slice(0,2):n===r-1?s.slice(2,4):s.slice(2),o[0]+" "+t(e,i)+" "+o[1]}function n(e,t){return t.length>e?t.length:e}var o=this.message.split("\n"),i=o.reduce(n,0),r=o.length,s=this.chooseBorders(r),a=o.map(e),c=Array(i+2);return a.unshift(" "+c.join("_")),a.push(" "+c.join("-")),a.join("\n")},chooseBorders:function(e){var t;return t=this.thinking?["(",")","(",")","(",")"]:1===e?["<",">"]:["/","\\","\\","/","|","|"]}};return n}();bot.listen(/cow(think|say)\s(?:([eT])=(.{0,2})\s)?(?:([eT])=(.{0,2})\s)?(.+)/,function(e){function t(e){for(var t={},n=0,o=e.length;o>n;n+=2)e[n]&&e[n+1]&&(t[e[n]]=e[n+1]);return t}var n=t(e.matches.slice(2,-1));n.t="think"===e.matches[1],bot.log(n,"cowsay opts");var o=cowsay.moo(e.matches.pop(),n);e.send(e.codify(o))});var cowsay=function(){"use strict";function e(e,t){function n(e,n){var i=n.length;return o+i>t&&(e+="\n",o=0),o+=i+1,e+n+" "}var o=0;return e.split(" ").reduce(n,"")}function t(e,t,n){return n=n||" ",(e+Array(t).join(n)).slice(0,t)}var n={defaults:{e:"oo",T:"  ",t:!1,W:40},cow:["","        L   ^__^","         L  (e)\\_______","            (__)\\       )\\/\\","             T ||----w |","                ||     ||"].join("\n"),moo:function(n,o){var i=this.defaults;return this.eyes=t(o.e||i.e,2).slice(0,2),this.tongue=t(o.T||i.T,2).slice(0,2),this.line=o.t?"O":"\\",this.thinking=o.t,console.log(this.eyes,this.tongue),this.message=e(n,o.W||i.W).trim(),this.makeBalloon()+this.makeCow()},makeCow:function(){return this.cow.replace(/e/g,this.eyes).replace(/T/g,this.tongue).replace(/L/g,this.line)},makeBalloon:function(){function e(e,n){var o;return o=0===n?s.slice(0,2):n===r-1?s.slice(2,4):s.slice(2),o[0]+" "+t(e,i)+" "+o[1]}function n(e,t){return t.length>e?t.length:e}var o=this.message.split("\n"),i=o.reduce(n,0),r=o.length,s=this.chooseBorders(r),a=o.map(e),c=Array(i+2);return a.unshift(" "+c.join("_")),a.push(" "+c.join("-")),a.join("\n")},chooseBorders:function(e){var t;return t=this.thinking?["(",")","(",")","(",")"]:1===e?["<",">"]:["/","\\","\\","/","|","|"]}};return n}();bot.listen(/cow(think|say)\s(?:([eT])=(.{0,2})\s)?(?:([eT])=(.{0,2})\s)?(.+)/,function(e){function t(e){for(var t={},n=0,o=e.length;o>n;n+=2)e[n]&&e[n+1]&&(t[e[n]]=e[n+1]);return t}var n=t(e.matches.slice(2,-1));n.t="think"===e.matches[1],bot.log(n,"cowsay opts");var o=cowsay.moo(e.matches.pop(),n);e.send(e.codify(o))}),function(){function e(e,o){function i(t){if(t.error_message)return e.reply(t.error_message),void 0;var i,s=[].concat(n[u](t.items));bot.log(s.slice(),"/get parseResponse parsing"),i=s.length?r(s):"User did not submit any "+c,bot.log(i,"/get parseResponse parsed"),o&&o.call?o(i):e.directreply(i)}function r(e){return e.map(function(e){return e.link}).join(" ; ")}var s=e.parse(),a=s[0]||"answer",c=a+"s",u=s[1]||"last",l=s[2];if("between"===u&&(l=s[4]),l||isNaN(u)||(l=u,u="last"),l||(l=e.get("user_id")),bot.log(s,"get input"),!t.hasOwnProperty(a))return'Invalid "getter" name '+a;if(!n.hasOwnProperty(u))return"Invalid range specifier "+u;var m="http://api.stackexchange.com/2.1/users/"+l+"/"+c,p={site:bot.adapter.site,sort:"creation",filter:"!BGS1(RNaKd_71l)9SkX3zg.ifSRSSy"};bot.log(m,p,"/get building url"),"between"===u&&(p.fromdate=Date.parse(s[2]),p.todate=Date.parse(s[3]),bot.log(m,p,"/get building url between")),IO.jsonp({url:m,data:p,fun:i})}var t={answer:!0,question:!0},n={first:function(e){return e[e.length-1]},last:function(e){return e[0]},between:function(e){return e}};bot.addCommand({name:"get",fun:e,permissions:{del:"NONE"},async:!0})}(),function(){function e(e,n){function o(n){function o(t){var n=IO.decodehtmlEntities(t.titleNoFormatting);return e.link(n,t.url)}if(bot.log(n,"/google response"),200!==n.responseStatus)return i("My Google-Fu is on vacation; status "+n.responseStatus),void 0;var r=n.responseData.results.slice(0,3);
return bot.log(r,"/google results"),r.length?(i(r.map(o).join(" ; ")),void 0):(i(t.random()),void 0)}function i(t){bot.log(t,"/google final"),n&&n.call?n(t):e.reply(t)}IO.jsonp.google(""+e+" -site:w3schools.com",o)}var t=["The Google contains no such knowledge","There are no search results. Run."];bot.addCommand({name:"google",fun:e,permissions:{del:"NONE"},description:"Search Google. `/google query`",async:!0})}(),function(){"use strict";var e=function(e){function t(t){e(t.word.toLowerCase().trim())}IO.jsonp({url:"http://sleepy-bastion-8674.herokuapp.com/",jsonpName:"callback",fun:t})},t={dude:["  +---+","  |   |","  |  413","  |   2","  |  5 6","__+__"].join("\n"),parts:["","O","|","/","\\","/","\\"],word:"",revealed:"",guesses:[],guessNum:0,maxGuess:6,guessMade:!1,end:!0,msg:null,validGuessRegex:/^[\w\s]+$/,receiveMessage:function(e){if(this.msg=e,this.end)this.new(e);else if(e.content)return this.handleGuess(e)},"new":function(n){function o(e){bot.log(e+" /hang random"),t.word=e,i.revealed=Array(e.length+1).join("-"),i.guesses=[],i.guessNum=0,i.guessMade=!0,i.register(),i.receiveMessage(n)}var i=this;e(o)},handleGuess:function(e){var t=e.slice().toLowerCase();bot.log(t,"handleGuess");var n=this.checkGuess(t);if(n)return n;var o=this.word.indexesOf(t);return o.forEach(function(e){this.uncoverPart(t,e)},this),o.length||this.guessNum++,this.guesses.push(t),this.guessMade=!0,bot.log(t,"handleGuess handled"),this.loseCheck()?this.lose():this.winCheck()?this.win():void 0},checkGuess:function(e){return this.validGuessRegex.test(e)?this.guesses.indexOf(e)>-1?e+" was already submitted":e.length>this.word.length?bot.adapter.codify(e)+" is longer than the phrase":void 0:"Only alphanumeric and whitespace characters allowed"},uncoverPart:function(e,t){this.revealed=this.revealed.slice(0,t)+e+this.revealed.slice(t+e.length)},preparePrint:function(){var e=this,t=this.dude.replace(/\d/g,function(t){return t>e.guessNum?" ":e.parts[t]}),n=this.guesses.sort().join(", ")+"\n"+this.revealed,o=this.msg.codify(t+"\n"+n);bot.log(o,this.msg),this.msg.send(o)},win:function(){return this.unregister(),"Correct! The phrase is "+this.word+"."},lose:function(){return this.unregister(),"You people suck. The phrase was "+this.word},winCheck:function(){return this.word===this.revealed},loseCheck:function(){return this.guessNum>=this.maxGuess},register:function(){this.unregister(),IO.register("beforeoutput",this.buildOutput,this),this.end=!1},unregister:function(){IO.unregister("beforeoutput",this.buildOutput),this.end=!0},buildOutput:function(){this.guessMade&&(this.preparePrint(),this.guessMade=!1)}};bot.addCommand({name:"hang",fun:t.receiveMessage,thisArg:t})}(),function(){"use strict";var e=function(e){function t(t){e(t.word.toLowerCase().trim())}IO.jsonp({url:"http://sleepy-bastion-8674.herokuapp.com/",jsonpName:"callback",fun:t})},t={dude:[].join("\n"),parts:["","O","|","/","\\","/","\\"],word:"",revealed:"",guesses:[],guessNum:0,maxGuess:6,guessMade:!1,end:!0,msg:null,validGuessRegex:/^[\w\s]+$/,receiveMessage:function(e){if(this.msg=e,this.end)this.new();else if(e.content)return this.handleGuess(e)},"new":function(){var n=this;e(function(e){bot.log(e+" /hang random"),t.word=e,n.revealed=Array(e.length+1).join("-"),n.guesses=[],n.guessNum=0,n.guessMade=!0,n.register()})},handleGuess:function(e){var t=e.slice().toLowerCase();if(bot.log(t,"handleGuess"),!this.validGuessRegex.test(t))return"Only alphanumeric and whitespace characters allowed";if(this.guesses.indexOf(t)>-1)return t+" was already submitted";if(t.length>this.word.length)return e.codify(t)+" is longer than the phrase";var n=this.word.indexesOf(t);return n.forEach(function(e){this.uncoverPart(t,e)},this),n.length||this.guessNum++,this.guesses.push(t),this.guessMade=!0,bot.log(t,this.guessMade,"handleGuess handled"),this.loseCheck()?this.lose():this.winCheck()?this.win():void 0},uncoverPart:function(e,t){this.revealed=this.revealed.slice(0,t)+e+this.revealed.slice(t+e.length)},preparePrint:function(){var e,t=this;e=this.guesses.length>0?this.guesses.sort().join(", "):"None";var n="Tries: "+t.guessNum+" Guesses: "+e+" Revealed: "+this.revealed,o=this.msg.codify(n);bot.log(o,this.msg),this.msg.send(o)},win:function(){return this.unregister(),"Correct! The phrase is "+this.word+"."},lose:function(){return this.unregister(),"You people suck. The phrase was "+this.word},winCheck:function(){return this.word===this.revealed},loseCheck:function(){return this.guessNum>=this.maxGuess},register:function(){this.unregister(),IO.register("beforeoutput",this.buildOutput,this),this.end=!1},unregister:function(){IO.unregister("beforeoutput",this.buildOutput),this.end=!0},buildOutput:function(){this.guessMade&&(this.preparePrint(),this.guessMade=!1)}};bot.addCommand({name:"hangs",fun:t.receiveMessage,thisArg:t})}(),function(){function e(e,t){function n(e){bot.log(e,"/image response");var t;0!=r?(console.log("number"),t=e.items[r]):i?(console.log("random"),t=e.items[Math.floor(50*Math.random())]):(console.log("not random"),t=e.items[0]),bot.log(t,"/image results"),t.link.lastIndexOf(".")!=t.link.length-3?(console.log(t.link,"DOES NOT CONTAIN EXTENSION"),console.log(t.link.length-3,"DOES NOT CONTAIN EXTENSION"),o(t.link+"#.png")):o(t.link)}function o(n){bot.log(n,"/image final"),t&&t.call?t(n):e.send(n)}var i=!1,r=0;if(console.log(""+e),"random"==e.split(" ")[0].toLowerCase()){console.log("true"),i=!0;var s=e.split(" ");s.splice(0,1),IO.jsonp.image(s.join(" "),n,10)}else if(isNaN(e.split(" ")[0]))console.log("neither"),IO.jsonp.image(""+e,n,10);else{if(e.split(" ")[0]>11)return e.reply("USE NUMBERS LESS THAN 10"),void 0;console.log(""+e.split(" ").splice(0,1).join(" "),"nan"),r=e.split(" ")[0]-1;var s=e.split(" ");s.splice(0,1),IO.jsonp.image(s.join(" "),n,10)}}bot.addCommand({name:"image",fun:e,permissions:{del:"NONE"},description:"Search Google images. `/image number|random query`",async:!0})}(),function(){"use strict";function e(e){bot.log(e,"/learn input");var n=e.parse(),i={name:n[0],output:n[1],input:n[2]||".*",creator:e.get("user_name"),date:new Date};i.description=["User-taught command:",n[3]||"",e.codify(i.output)].join(" ");var s=o(i);return s?s:(i.name=i.name.toLowerCase(),i.input=RegExp(i.input),bot.log(i,"/learn parsed"),t(i),r(i),"Command "+i.name+" learned")}function t(e){var t=bot.Command({name:e.name,description:e.description,creator:e.creator,date:e.date,fun:n(e),permissions:{use:"ALL",del:"ALL"}});t.learned=!0,t.del=function(n){return function(){s(e.name),n.call(t)}}(t.del),bot.log(t,"/learn addCustomCommand"),bot.addCommand(t)}function n(e){return bot.log(e,"/learn makeCustomCommand"),function(t){bot.log(t,e.name+" input");var n=bot.Message(e.output,t.get());return a.exec(n,e.input.exec(t))}}function o(e){var t,n=Object.keys(e).some(function(t){return!e[t]});return n?t="Illegal /learn object; see `/help learn`":/^[\w\-]+$/.test(e.name)?bot.commandExists(e.name.toLowerCase())&&(t="Command "+e.name+" already exists"):t="Invalid command name",t}function i(){function e(e){var n=JSON.parse(c[e]);n.input=RegExp(n.input),n.date=new Date(Date.parse(n.date)),bot.log(n,"/learn loadCommands"),t(n)}Object.keys(c).forEach(e)}function r(e){c[e.name]=JSON.stringify(e),localStorage.bot_learn=JSON.stringify(c)}function s(e){delete c[e],localStorage.bot_learn=JSON.stringify(c)}var a=bot.getCommand("parse"),c=JSON.parse(localStorage.bot_learn||"{}");bot.addCommand({name:"learn",fun:e,privileges:{del:"NONE"},description:"Teaches me a command. `/learn cmdName outputPattern [inputRegex [description]]`"}),i()}(),function(){function e(){Date.now(),r=r.filter(function(e){return e.time-=s,0>=e.time?(t(e),!1):!0}),setTimeout(e,s)}function t(e){console.log(e,"nudge fire"),e.msg.reply(e.message)}function n(e,t,n){var o;if(console.log(e,t,"/nudge input"),e=parseFloat(e),o=6e4*e,isNaN(o))return"Many things can be labeled Not a Number; a delay should not be one of them.";var i={msg:n,message:"*nudge* "+t,register:Date.now(),time:o};return r.push(i),console.log(i,r,"/nudge register"),"Nudge registered."}function o(e){var t=e.parse();return n(t[0],t.slice(1).join(" "),e)}function i(e){return n(e.matches[1],e.matches[2],e)}var r=[],s=6e3;setTimeout(e,s),bot.addCommand({name:"nudge",fun:o,permissions:{del:"NONE"},description:"Register a nudge after an interval. `/nudge intervalInMinutes message`, or the listener, `nudge|remind|poke me? in? intervalInMinutes message`"}),bot.listen(/(?:nudge|remind|poke)\s(?:me\s)?(?:in\s)?(\d+m?)\s?(.*)$/,i)}(),function(){function e(e){function t(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0].nodeValue}ajaxRequest=new XMLHttpRequest,ajaxRequest.open("GET","http://rick.measham.id.au/paste/explain.pl?regex="+encodeURIComponent(e),!0),ajaxRequest.send(null),ajaxRequest.onreadystatechange=function(){if(4==ajaxRequest.readyState&&200==ajaxRequest.status){var n=ajaxRequest.responseText,o=n.slice(n.indexOf("--------------------------------------------------------------------------------")+"--------------------------------------------------------------------------------".length+1,n.indexOf("</pre>"));console.log(o,"info"),e.directreply(t(o))}}}bot.addCommand({name:"regexexplain",fun:e,permissions:{del:"NONE"},description:"Explains a regex. /regexexplain regex",async:!0})}(),function(){function e(e){var n,o,i=Math.max(e.matches[1],1)-1,r=Math.min(e.matches[3],t.length),s=e.matches[2];return console.log(i,r,s,"rulz"),i&&!r?t[i]:("to"===s?(i>r&&(n=i,i=r,r=n),o=t.slice(i,r)):o=[t[i],t[r]],o.join("\n"))}var t=["1. Do not talk about /b/","2. Do NOT talk about /b/","3. We are Anonymous.","4. Anonymous is legion.","5. Anonymous does not forgive, Anonymous does not forget.","6. Anonymous can be horrible, senseless, uncaring monster.","7. Anonymous is still able to deliver.","8. There are no real rules about posting.","9. There are no real rules about moderation either � enjoy your ban.","10. If you enjoy any rival sites � DON'T.","11. You must have pictures to prove your statement.","12. Lurk moar � it's never enough.","13. Nothing is Sacred.","14. Do not argue with a troll � it means that they win.","15. The more beautiful and pure a thing is, the more satisfying it is to corrupt it.","16. There are NO girls on the internet.","17. A cat is fine too.","18. One cat leads to another.","19. The more you hate it, the stronger it gets.","20. It is delicious cake. You must eat it.","21. It is delicious trap. You must hit it.","22. /b/ sucks today.","23. Cock goes in here.","24. You will never have sex.","25. ????","26. PROFIT!","27. It needs more Desu. No exceptions.","28. There will always be more fucked up shit than what you just saw.","29. You can not divide by zero (just because the calculator says so).","30. No real limits of any kind apply here � not even the sky","31. CAPSLOCK IS CRUISE CONTROL FOR COOL.","32. EVEN WITH CRUISE CONTROL YOU STILL HAVE TO STEER.","33. Desu isn't funny. Seriously guys. It's worse than Chuck Norris jokes.","34. There is porn of it. No exceptions.","35. If no porn is found of it, it will be created.","36. No matter what it is, it is somebody's fetish. No exceptions.","37. Even one positive comment about Japanese things can make you a weeaboo.","38. When one sees a lion, one must get into the car","39. There is furry porn of it. No exceptions.","40. The pool is always closed due to AIDS (and stingrays, which also have AIDS).","41. If there isn't enough just ask for Moar.","42. Everything has been cracked and pirated.","43. DISREGARD THAT I SUCK COCKS","44. The internet is not your personal army.","45. Rule 45 is a lie.","46. The cake is a lie.","47. If you post it, they will cum.","48. It will always need moar sauce.","49. The internet makes you stupid.","50. Anything can be a meme.","51. Longcat is looooooooooong.","52. If something goes wrong, Ebaums did it.","53. Anonymous is a virgin by default.","54. Moot has cat ears, even in real life. No exceptions.","55. CP is awwwright, but DSFARGEG will get you b&.","56. Don't mess with football.","57. MrSpooky has never seen so many ingrates.",'58. Anonymous does not "buy", he downloads.','59. The term "sage" does not refer to the spice.',"60. If you say Candlejack, you w","61. You cannot divide by zero.","62. The internet is SERIOUS FUCKING BUSINESS.","63. If you do not believe it, then it must be habeebed for great justice.","64. Not even Spider-Man knows how to shot web.","65. Mitchell Henderson was an hero to us all.","66. This is not lupus, it's SPARTAAAAAAAAAA.","67. One does not simply shoop da whoop into Mordor.","68. Katy is bi, so deal w/it.","69. LOL SIXTY NINE AMIRITE?","70. Also, cocks.","71. This is a showdown, a throwdown, hell no I can't slow down, it's gonna go.","72. Anonymous did NOT, under any circumstances, tk him 2da bar|?","73. If you express astonishment at someone's claim, it is most likely just a clever ruse.","74. If it hadn't been for Cotton Eyed Joe, Anonymous would have been married a long time ago.","75. Around Snacks, CP is lax.","76. All numbers are at least 100 but always OVER NINE THOUSAAAAAND.","77. Hal Turner definitely needs to gb2/hell/.","78. Mods are fucking fags. No exceptions.","79. All Caturday threads will be bombarded with Zippocat. No exceptions.","80. No matter how cute it is, it probably skullfucked your mother last night.","81. That's not mud.","82. Steve Irwin's death is really, really funny.","83. The Internet is SERIOUS FUCKING BUSINESS.","84. Rule 87 is true.","85. Yes, it is some chickens.","86. Bobba bobba is bobba.","87. Rule 84 is false. OH SHI-",'88. If your statement is preceded by "HAY GUYZ", then you are not doing it right.',"89. If you cannot understand it, it is machine code.","90. Anonymous still owes Hal Turner one trillion U.S. dollars.","91. Spengbab Sqarpaint is luv Padtwick Zhstar iz fwend.","92. Disregard Bigmike, he sucks cocks.","93. Secure tripcodes are for jerks.","94. If someone herd u liek Mudkips, deny it constantly for the lulz.","95. Combo breakers are inevitable. If the combo is completed successfully, it is gay.","96. I am a huge faggot. Please rape my face.","97. Shit sucks and will never be stickied.","98. Bricks must are required to be shat whenever Anonymous is surprised.","99. If you have no bricks to shit, you are made of fail and AIDS.","100. ZOMG NONE","101. The internet is always right. No exceptions","102. The internet is really, really great, FOR PORN."],n=/(?:show|tell) (?:me)? rules? (\d+)\s?(?:(,|and|to)\s?(\d+))?/;bot.listen(n,e)}();var nudgeend=!1,items=[],time;(function(){function e(){Date.now(),s=s.filter(function(e){return e.time-=a,0>=e.time&&(nudgeend||(t(e),e.time=time)),nudgeend?!1:!0}),setTimeout(e,a)}function t(e){function t(){return o=new XMLHttpRequest,o.open("GET","http://api.stackexchange.com/2.1/search/advanced?order=asc&sort=votes&closed=True&title=how%20do%20i&site=stackoverflow&tagged="+encodeURIComponent(e.sourcemessage),async=!1),o.onreadystatechange=function(){if(4==o.readyState){for(var e=JSON.parse(o.responseText),t=0;e.items.length>t;t++)items.push(e.items[t].title);global=items[Math.floor(Math.random()*items.length)]}},o.send(),console.log(global),console.log("http://api.stackexchange.com/2.1/search/advanced?order=asc&sort=votes&closed=True&title=how%20do%20i&site=stackoverflow&tagged="+encodeURIComponent(e.sourcemessage)),"?"!=n(global)[n(global).length-1]?n(global)+"?":n(global)}function n(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0].nodeValue}var o;nudgeend||e.msg.send(t())}function n(e,t,n){if(!nudgeend){var o;if(console.log(e,t,"/SPAM NUDGE input"),r=this.msgObj,console.log(r,"nudge msag"),e=parseFloat(e),o=6e4*e,isNaN(o))return"Many things can be labeled Not a Number; a delay should not be one of them.";time=o;var i={msg:n,message:"",register:Date.now(),time:o,delay:e,sourcemessage:t,msgObject:n};s.push(i)}}function o(e){var t=e.parse();return n(t[0],t.slice(1).join(" "),e)}function i(e){return n(e.matches[1],e.matches[2],e)}var r=null,s=[],a=6e3;setTimeout(e,a),bot.addCommand({name:"s",fun:o,permissions:{del:"NONE"},description:"Register a nudge after an interval. `/nudge intervalInMinutes message`, or the listener, `nudge|remind|poke me? in? intervalInMinutes message`"}),bot.listen(/s?(\s?(.*))$/,i)})(),function(){function e(){nudgeend=!0}bot.addCommand({name:"ss",fun:e,permissions:{del:"NONE"},description:"Register a nudge after an interval. `/nudge intervalInMinutes message`, or the listener, `nudge|remind|poke me? in? intervalInMinutes message`"})}(),function(){function e(e){var t="en",n="es",o=""+e,i=document.createElement("script");i.src="http://api.microsofttranslator.com/V2/Ajax.svc/Translate?appId=Bearer "+encodeURIComponent(window.accessToken)+"&from="+encodeURIComponent(t)+"&to="+encodeURIComponent(n)+"&text="+encodeURIComponent(o)+"&oncomplete=mycallback",e.send(document.body.appendChild(i))}bot.addCommand({name:"spanish",fun:e,permissions:{use:"ALL",del:"NONE"},description:"Translate from english to spanish",async:!1})}(),function(){function e(e){function n(e){return e.name.toLowerCase().indexOf(r)>-1}function o(t){var n=e.escape(t.name);return"["+n+"](http://es5.github.com/#"+t.section+")"}var i,r=e.content.toLowerCase();return i=t.filter(n).map(o),bot.log(i,"/spec done"),i.length?i.join(", "):e+" not found in spec"}var t;t=[{section:"introduction",name:"Introduction"},{section:"x1",name:"1 Scope"},{section:"x2",name:"2 Conformance"},{section:"x3",name:"3 Normative references"},{section:"x4",name:"4 Overview"},{section:"x4.1",name:"4.1 Web Scripting"},{section:"x4.2",name:"4.2 Language Overview"},{section:"x4.2.1",name:"4.2.1 Objects"},{section:"x4.2.2",name:"4.2.2 The Strict Variant of ECMAScript"},{section:"x4.3",name:"4.3 Definitions"},{section:"x4.3.1",name:"4.3.1 type"},{section:"x4.3.2",name:"4.3.2 primitive value"},{section:"x4.3.3",name:"4.3.3 object"},{section:"x4.3.4",name:"4.3.4 constructor"},{section:"x4.3.5",name:"4.3.5 prototype"},{section:"x4.3.6",name:"4.3.6 native object"},{section:"x4.3.7",name:"4.3.7 built-in object"},{section:"x4.3.8",name:"4.3.8 host object"},{section:"x4.3.9",name:"4.3.9 undefined value"},{section:"x4.3.10",name:"4.3.10 Undefined type"},{section:"x4.3.11",name:"4.3.11 null value"},{section:"x4.3.12",name:"4.3.12 Null type"},{section:"x4.3.13",name:"4.3.13 Boolean value"},{section:"x4.3.14",name:"4.3.14 Boolean type"},{section:"x4.3.15",name:"4.3.15 Boolean object"},{section:"x4.3.16",name:"4.3.16 String value"},{section:"x4.3.17",name:"4.3.17 String type"},{section:"x4.3.18",name:"4.3.18 String object"},{section:"x4.3.19",name:"4.3.19 Number value"},{section:"x4.3.20",name:"4.3.20 Number type"},{section:"x4.3.21",name:"4.3.21 Number object"},{section:"x4.3.22",name:"4.3.22 Infinity"},{section:"x4.3.23",name:"4.3.23 NaN"},{section:"x4.3.24",name:"4.3.24 function"},{section:"x4.3.25",name:"4.3.25 built-in function"},{section:"x4.3.26",name:"4.3.26 property"},{section:"x4.3.27",name:"4.3.27 method"},{section:"x4.3.28",name:"4.3.28 built-in method"},{section:"x4.3.29",name:"4.3.29 attribute"},{section:"x4.3.30",name:"4.3.30 own property"},{section:"x4.3.31",name:"4.3.31 inherited property"},{section:"x5",name:"5 Notational Conventions"},{section:"x5.1",name:"5.1 Syntactic and Lexical Grammars"},{section:"x5.1.1",name:"5.1.1 Context-Free Grammars"},{section:"x5.1.2",name:"5.1.2 The Lexical and RegExp Grammars"},{section:"x5.1.3",name:"5.1.3 The Numeric String Grammar"},{section:"x5.1.4",name:"5.1.4 The Syntactic Grammar"},{section:"x5.1.5",name:"5.1.5 The JSON Grammar"},{section:"x5.1.6",name:"5.1.6 Grammar Notation"},{section:"x5.2",name:"5.2 Algorithm Conventions"},{section:"x6",name:"6 Source Text"},{section:"x7",name:"7 Lexical Conventions"},{section:"x7.1",name:"7.1 Unicode Format-Control Characters"},{section:"x7.2",name:"7.2 White Space"},{section:"x7.3",name:"7.3 Line Terminators"},{section:"x7.4",name:"7.4 Comments"},{section:"x7.5",name:"7.5 Tokens"},{section:"x7.6",name:"7.6 Identifier Names and Identifiers"},{section:"x7.6.1",name:"7.6.1 Reserved Words"},{section:"x7.6.1.1",name:"7.6.1.1 Keywords"},{section:"x7.6.1.2",name:"7.6.1.2 Future Reserved Words"},{section:"x7.7",name:"7.7 Punctuators"},{section:"x7.8",name:"7.8 Literals"},{section:"x7.8.1",name:"7.8.1 Null Literals"},{section:"x7.8.2",name:"7.8.2 Boolean Literals"},{section:"x7.8.3",name:"7.8.3 Numeric Literals"},{section:"x7.8.4",name:"7.8.4 String Literals"},{section:"x7.8.5",name:"7.8.5 Regular Expression Literals"},{section:"x7.9",name:"7.9 Automatic Semicolon Insertion"},{section:"x7.9.1",name:"7.9.1 Rules of Automatic Semicolon Insertion"},{section:"x7.9.2",name:"7.9.2 Examples of Automatic Semicolon Insertion"},{section:"x8",name:"8 Types"},{section:"x8.1",name:"8.1 The Undefined Type"},{section:"x8.2",name:"8.2 The Null Type"},{section:"x8.3",name:"8.3 The Boolean Type"},{section:"x8.4",name:"8.4 The String Type"},{section:"x8.5",name:"8.5 The Number Type"},{section:"x8.6",name:"8.6 The Object Type"},{section:"x8.6.1",name:"8.6.1 Property Attributes"},{section:"x8.6.2",name:"8.6.2 Object Internal Properties and Methods"},{section:"x8.7",name:"8.7 The Reference Specification Type"},{section:"x8.7.1",name:"8.7.1 GetValue (V)"},{section:"x8.7.2",name:"8.7.2 PutValue (V, W)"},{section:"x8.8",name:"8.8 The List Specification Type"},{section:"x8.9",name:"8.9 The Completion Specification Type"},{section:"x8.10",name:"8.10 The Property Descriptor and Property Identifier Specification Types"},{section:"x8.10.1",name:"8.10.1 IsAccessorDescriptor ( Desc )"},{section:"x8.10.2",name:"8.10.2 IsDataDescriptor ( Desc )"},{section:"x8.10.3",name:"8.10.3 IsGenericDescriptor ( Desc )"},{section:"x8.10.4",name:"8.10.4 FromPropertyDescriptor ( Desc )"},{section:"x8.10.5",name:"8.10.5 ToPropertyDescriptor ( Obj )"},{section:"x8.11",name:"8.11 The Lexical Environment and Environment Record Specification Types"},{section:"x8.12",name:"8.12 Algorithms for Object Internal Methods"},{section:"x8.12.1",name:"8.12.1 [[GetOwnProperty]] (P)"},{section:"x8.12.2",name:"8.12.2 [[GetProperty]] (P)"},{section:"x8.12.3",name:"8.12.3 [[Get]] (P)"},{section:"x8.12.4",name:"8.12.4 [[CanPut]] (P)"},{section:"x8.12.5",name:"8.12.5 [[Put]] ( P, V, Throw )"},{section:"x8.12.6",name:"8.12.6 [[HasProperty]] (P)"},{section:"x8.12.7",name:"8.12.7 [[Delete]] (P, Throw)"},{section:"x8.12.8",name:"8.12.8 [[DefaultValue]] (hint)"},{section:"x8.12.9",name:"8.12.9 [[DefineOwnProperty]] (P, Desc, Throw)"},{section:"x9",name:"9 Type Conversion and Testing"},{section:"x9.1",name:"9.1 ToPrimitive"},{section:"x9.2",name:"9.2 ToBoolean"},{section:"x9.3",name:"9.3 ToNumber"},{section:"x9.3.1",name:"9.3.1 ToNumber Applied to the String Type"},{section:"x9.4",name:"9.4 ToInteger"},{section:"x9.5",name:"9.5 ToInt32: (Signed 32 Bit Integer)"},{section:"x9.6",name:"9.6 ToUint32: (Unsigned 32 Bit Integer)"},{section:"x9.7",name:"9.7 ToUint16: (Unsigned 16 Bit Integer)"},{section:"x9.8",name:"9.8 ToString"},{section:"x9.8.1",name:"9.8.1 ToString Applied to the Number Type"},{section:"x9.9",name:"9.9 ToObject"},{section:"x9.10",name:"9.10 CheckObjectCoercible"},{section:"x9.11",name:"9.11 IsCallable"},{section:"x9.12",name:"9.12 The SameValue Algorithm"},{section:"x10",name:"10 Executable Code and Execution Contexts"},{section:"x10.1",name:"10.1 Types of Executable Code"},{section:"x10.1.1",name:"10.1.1 Strict Mode Code"},{section:"x10.2",name:"10.2 Lexical Environments"},{section:"x10.2.1",name:"10.2.1 Environment Records"},{section:"x10.2.1.1",name:"10.2.1.1 Declarative Environment Records"},{section:"x10.2.1.1.1",name:"10.2.1.1.1 HasBinding(N)"},{section:"x10.2.1.1.2",name:"10.2.1.1.2 CreateMutableBinding (N, D)"},{section:"x10.2.1.1.3",name:"10.2.1.1.3 SetMutableBinding (N,V,S)"},{section:"x10.2.1.1.4",name:"10.2.1.1.4 GetBindingValue(N,S)"},{section:"x10.2.1.1.5",name:"10.2.1.1.5 DeleteBinding (N)"},{section:"x10.2.1.1.6",name:"10.2.1.1.6 ImplicitThisValue()"},{section:"x10.2.1.1.7",name:"10.2.1.1.7 CreateImmutableBinding (N)"},{section:"x10.2.1.1.8",name:"10.2.1.1.8 InitializeImmutableBinding (N,V)"},{section:"x10.2.1.2",name:"10.2.1.2 Object Environment Records"},{section:"x10.2.1.2.1",name:"10.2.1.2.1 HasBinding(N)"},{section:"x10.2.1.2.2",name:"10.2.1.2.2 CreateMutableBinding (N, D)"},{section:"x10.2.1.2.3",name:"10.2.1.2.3 SetMutableBinding (N,V,S)"},{section:"x10.2.1.2.4",name:"10.2.1.2.4 GetBindingValue(N,S)"},{section:"x10.2.1.2.5",name:"10.2.1.2.5 DeleteBinding (N)"},{section:"x10.2.1.2.6",name:"10.2.1.2.6 ImplicitThisValue()"},{section:"x10.2.2",name:"10.2.2 Lexical Environment Operations"},{section:"x10.2.2.1",name:"10.2.2.1 GetIdentifierReference (lex, name, strict)"},{section:"x10.2.2.2",name:"10.2.2.2 NewDeclarativeEnvironment (E)"},{section:"x10.2.2.3",name:"10.2.2.3 NewObjectEnvironment (O, E)"},{section:"x10.2.3",name:"10.2.3 The Global Environment"},{section:"x10.3",name:"10.3 Execution Contexts"},{section:"x10.3.1",name:"10.3.1 Identifier Resolution"},{section:"x10.4",name:"10.4 Establishing an Execution Context"},{section:"x10.4.1",name:"10.4.1 Entering Global Code"},{section:"x10.4.1.1",name:"10.4.1.1 Initial Global Execution Context"},{section:"x10.4.2",name:"10.4.2 Entering Eval Code"},{section:"x10.4.2.1",name:"10.4.2.1 Strict Mode Restrictions"},{section:"x10.4.3",name:"10.4.3 Entering Function Code"},{section:"x10.5",name:"10.5 Declaration Binding Instantiation"},{section:"x10.6",name:"10.6 Arguments Object"},{section:"x11",name:"11 Expressions"},{section:"x11.1",name:"11.1 Primary Expressions"},{section:"x11.1.1",name:"11.1.1 The this Keyword"},{section:"x11.1.2",name:"11.1.2 Identifier Reference"},{section:"x11.1.3",name:"11.1.3 Literal Reference"},{section:"x11.1.4",name:"11.1.4 Array Initialiser"},{section:"x11.1.5",name:"11.1.5 Object Initialiser"},{section:"x11.1.6",name:"11.1.6 The Grouping Operator"},{section:"x11.2",name:"11.2 Left-Hand-Side Expressions"},{section:"x11.2.1",name:"11.2.1 Property Accessors"},{section:"x11.2.2",name:"11.2.2 The new Operator"},{section:"x11.2.3",name:"11.2.3 Function Calls"},{section:"x11.2.4",name:"11.2.4 Argument Lists"},{section:"x11.2.5",name:"11.2.5 Function Expressions"},{section:"x11.3",name:"11.3 Postfix Expressions"},{section:"x11.3.1",name:"11.3.1 Postfix Increment Operator"},{section:"x11.3.2",name:"11.3.2 Postfix Decrement Operator"},{section:"x11.4",name:"11.4 Unary Operators"},{section:"x11.4.1",name:"11.4.1 The delete Operator"},{section:"x11.4.2",name:"11.4.2 The void Operator"},{section:"x11.4.3",name:"11.4.3 The typeof Operator"},{section:"x11.4.4",name:"11.4.4 Prefix Increment Operator"},{section:"x11.4.5",name:"11.4.5 Prefix Decrement Operator"},{section:"x11.4.6",name:"11.4.6 Unary + Operator"},{section:"x11.4.7",name:"11.4.7 Unary - Operator"},{section:"x11.4.8",name:"11.4.8 Bitwise NOT Operator ( ~ )"},{section:"x11.4.9",name:"11.4.9 Logical NOT Operator ( ! )"},{section:"x11.5",name:"11.5 Multiplicative Operators"},{section:"x11.5.1",name:"11.5.1 Applying the * Operator"},{section:"x11.5.2",name:"11.5.2 Applying the / Operator"},{section:"x11.5.3",name:"11.5.3 Applying the % Operator"},{section:"x11.6",name:"11.6 Additive Operators"},{section:"x11.6.1",name:"11.6.1 The Addition operator ( + )"},{section:"x11.6.2",name:"11.6.2 The Subtraction Operator ( - )"},{section:"x11.6.3",name:"11.6.3 Applying the Additive Operators to Numbers"},{section:"x11.7",name:"11.7 Bitwise Shift Operators"},{section:"x11.7.1",name:"11.7.1 The Left Shift Operator ( << )"},{section:"x11.7.2",name:"11.7.2 The Signed Right Shift Operator ( >> )"},{section:"x11.7.3",name:"11.7.3 The Unsigned Right Shift Operator ( >>> )"},{section:"x11.8",name:"11.8 Relational Operators"},{section:"x11.8.1",name:"11.8.1 The Less-than Operator ( < )"},{section:"x11.8.2",name:"11.8.2 The Greater-than Operator ( > )"},{section:"x11.8.3",name:"11.8.3 The Less-than-or-equal Operator ( <= )"},{section:"x11.8.4",name:"11.8.4 The Greater-than-or-equal Operator ( >= )"},{section:"x11.8.5",name:"11.8.5 The Abstract Relational Comparison Algorithm"},{section:"x11.8.6",name:"11.8.6 The instanceof operator"},{section:"x11.8.7",name:"11.8.7 The in operator"},{section:"x11.9",name:"11.9 Equality Operators"},{section:"x11.9.1",name:"11.9.1 The Equals Operator ( == )"},{section:"x11.9.2",name:"11.9.2 The Does-not-equals Operator ( != )"},{section:"x11.9.3",name:"11.9.3 The Abstract Equality Comparison Algorithm"},{section:"x11.9.4",name:"11.9.4 The Strict Equals Operator ( === )"},{section:"x11.9.5",name:"11.9.5 The Strict Does-not-equal Operator ( !== )"},{section:"x11.9.6",name:"11.9.6 The Strict Equality Comparison Algorithm"},{section:"x11.10",name:"11.10 Binary Bitwise Operators"},{section:"x11.11",name:"11.11 Binary Logical Operators"},{section:"x11.12",name:"11.12 Conditional Operator ( ? : )"},{section:"x11.13",name:"11.13 Assignment Operators"},{section:"x11.13.1",name:"11.13.1 Simple Assignment ( = )"},{section:"x11.13.2",name:"11.13.2 Compound Assignment ( op= )"},{section:"x11.14",name:"11.14 Comma Operator ( , )"},{section:"x12",name:"12 Statements"},{section:"x12.1",name:"12.1 Block"},{section:"x12.2",name:"12.2 Variable Statement"},{section:"x12.2.1",name:"12.2.1 Strict Mode Restrictions"},{section:"x12.3",name:"12.3 Empty Statement"},{section:"x12.4",name:"12.4 Expression Statement"},{section:"x12.5",name:"12.5 The if Statement"},{section:"x12.6",name:"12.6 Iteration Statements"},{section:"x12.6.1",name:"12.6.1 The do-while Statement"},{section:"x12.6.2",name:"12.6.2 The while Statement"},{section:"x12.6.3",name:"12.6.3 The for Statement"},{section:"x12.6.4",name:"12.6.4 The for-in Statement"},{section:"x12.7",name:"12.7 The continue Statement"},{section:"x12.8",name:"12.8 The break Statement"},{section:"x12.9",name:"12.9 The return Statement"},{section:"x12.10",name:"12.10 The with Statement"},{section:"x12.10.1",name:"12.10.1 Strict Mode Restrictions"},{section:"x12.11",name:"12.11 The switch Statement"},{section:"x12.12",name:"12.12 Labelled Statements"},{section:"x12.13",name:"12.13 The throw Statement"},{section:"x12.14",name:"12.14 The try Statement"},{section:"x12.14.1",name:"12.14.1 Strict Mode Restrictions"},{section:"x12.15",name:"12.15 The debugger statement"},{section:"x13",name:"13 Function Definition"},{section:"x13.1",name:"13.1 Strict Mode Restrictions"},{section:"x13.2",name:"13.2 Creating Function Objects"},{section:"x13.2.1",name:"13.2.1 [[Call]]"},{section:"x13.2.2",name:"13.2.2 [[Construct]]"},{section:"x13.2.3",name:"13.2.3 The Function Object"},{section:"x14",name:"14 Program"},{section:"x14.1",name:"14.1 Directive Prologues and the Use Strict Directive"},{section:"x15",name:"15 Standard Built-in ECMAScript Objects"},{section:"x15.1",name:"15.1 The Global Object"},{section:"x15.1.1",name:"15.1.1 Value Properties of the Global Object"},{section:"x15.1.1.1",name:"15.1.1.1 NaN"},{section:"x15.1.1.2",name:"15.1.1.2 Infinity"},{section:"x15.1.1.3",name:"15.1.1.3 undefined"},{section:"x15.1.2",name:"15.1.2 Function Properties of the Global Object"},{section:"x15.1.2.1",name:"15.1.2.1 eval (x)"},{section:"x15.1.2.1.1",name:"15.1.2.1.1 Direct Call to Eval"},{section:"x15.1.2.2",name:"15.1.2.2 parseInt (string , radix)"},{section:"x15.1.2.3",name:"15.1.2.3 parseFloat (string)"},{section:"x15.1.2.4",name:"15.1.2.4 isNaN (number)"},{section:"x15.1.2.5",name:"15.1.2.5 isFinite (number)"},{section:"x15.1.3",name:"15.1.3 URI Handling Function Properties"},{section:"x15.1.3.1",name:"15.1.3.1 decodeURI (encodedURI)"},{section:"x15.1.3.2",name:"15.1.3.2 decodeURIComponent (encodedURIComponent)"},{section:"x15.1.3.3",name:"15.1.3.3 encodeURI (uri)"},{section:"x15.1.3.4",name:"15.1.3.4 encodeURIComponent (uriComponent)"},{section:"x15.1.4",name:"15.1.4 Constructor Properties of the Global Object"},{section:"x15.1.4.1",name:"15.1.4.1 Object ( . . . )"},{section:"x15.1.4.2",name:"15.1.4.2 Function ( . . . )"},{section:"x15.1.4.3",name:"15.1.4.3 Array ( . . . )"},{section:"x15.1.4.4",name:"15.1.4.4 String ( . . . )"},{section:"x15.1.4.5",name:"15.1.4.5 Boolean ( . . . )"},{section:"x15.1.4.6",name:"15.1.4.6 Number ( . . . )"},{section:"x15.1.4.7",name:"15.1.4.7 Date ( . . . )"},{section:"x15.1.4.8",name:"15.1.4.8 RegExp ( . . . )"},{section:"x15.1.4.9",name:"15.1.4.9 Error ( . . . )"},{section:"x15.1.4.10",name:"15.1.4.10 EvalError ( . . . )"},{section:"x15.1.4.11",name:"15.1.4.11 RangeError ( . . . )"},{section:"x15.1.4.12",name:"15.1.4.12 ReferenceError ( . . . )"},{section:"x15.1.4.13",name:"15.1.4.13 SyntaxError ( . . . )"},{section:"x15.1.4.14",name:"15.1.4.14 TypeError ( . . . )"},{section:"x15.1.4.15",name:"15.1.4.15 URIError ( . . . )"},{section:"x15.1.5",name:"15.1.5 Other Properties of the Global Object"},{section:"x15.1.5.1",name:"15.1.5.1 Math"},{section:"x15.1.5.2",name:"15.1.5.2 JSON"},{section:"x15.2",name:"15.2 Object Objects"},{section:"x15.2.1",name:"15.2.1 The Object Constructor Called as a Function"},{section:"x15.2.1.1",name:"15.2.1.1 Object ( [ value ] )"},{section:"x15.2.2",name:"15.2.2 The Object Constructor"},{section:"x15.2.2.1",name:"15.2.2.1 new Object ( [ value ] )"},{section:"x15.2.3",name:"15.2.3 Properties of the Object Constructor"},{section:"x15.2.3.1",name:"15.2.3.1 Object.prototype"},{section:"x15.2.3.2",name:"15.2.3.2 Object.getPrototypeOf ( O )"},{section:"x15.2.3.3",name:"15.2.3.3 Object.getOwnPropertyDescriptor ( O, P ) "},{section:"x15.2.3.4",name:"15.2.3.4 Object.getOwnPropertyNames ( O )"},{section:"x15.2.3.5",name:"15.2.3.5 Object.create ( O [, Properties] )"},{section:"x15.2.3.6",name:"15.2.3.6 Object.defineProperty ( O, P, Attributes )"},{section:"x15.2.3.7",name:"15.2.3.7 Object.defineProperties ( O, Properties )"},{section:"x15.2.3.8",name:"15.2.3.8 Object.seal ( O )"},{section:"x15.2.3.9",name:"15.2.3.9 Object.freeze ( O )"},{section:"x15.2.3.10",name:"15.2.3.10 Object.preventExtensions ( O )"},{section:"x15.2.3.11",name:"15.2.3.11 Object.isSealed ( O )"},{section:"x15.2.3.12",name:"15.2.3.12 Object.isFrozen ( O )"},{section:"x15.2.3.13",name:"15.2.3.13 Object.isExtensible ( O )"},{section:"x15.2.3.14",name:"15.2.3.14 Object.keys ( O )"},{section:"x15.2.4",name:"15.2.4 Properties of the Object Prototype Object"},{section:"x15.2.4.1",name:"15.2.4.1 Object.prototype.constructor"},{section:"x15.2.4.2",name:"15.2.4.2 Object.prototype.toString ( )"},{section:"x15.2.4.3",name:"15.2.4.3 Object.prototype.toLocaleString ( )"},{section:"x15.2.4.4",name:"15.2.4.4 Object.prototype.valueOf ( )"},{section:"x15.2.4.5",name:"15.2.4.5 Object.prototype.hasOwnProperty (V)"},{section:"x15.2.4.6",name:"15.2.4.6 Object.prototype.isPrototypeOf (V)"},{section:"x15.2.4.7",name:"15.2.4.7 Object.prototype.propertyIsEnumerable (V)"},{section:"x15.2.5",name:"15.2.5 Properties of Object Instances"},{section:"x15.3",name:"15.3 Function Objects"},{section:"x15.3.1",name:"15.3.1 The Function Constructor Called as a Function"},{section:"x15.3.1.1",name:"15.3.1.1 Function (p1, p2, … , pn, body)"},{section:"x15.3.2",name:"15.3.2 The Function Constructor"},{section:"x15.3.2.1",name:"15.3.2.1 new Function (p1, p2, … , pn, body)"},{section:"x15.3.3",name:"15.3.3 Properties of the Function Constructor"},{section:"x15.3.3.1",name:"15.3.3.1 Function.prototype"},{section:"x15.3.3.2",name:"15.3.3.2 Function.length"},{section:"x15.3.4",name:"15.3.4 Properties of the Function Prototype Object"},{section:"x15.3.4.1",name:"15.3.4.1 Function.prototype.constructor"},{section:"x15.3.4.2",name:"15.3.4.2 Function.prototype.toString ( )"},{section:"x15.3.4.3",name:"15.3.4.3 Function.prototype.apply (thisArg, argArray)"},{section:"x15.3.4.4",name:"15.3.4.4 Function.prototype.call (thisArg [ , arg1 [ , arg2, … ] ] )"},{section:"x15.3.4.5",name:"15.3.4.5 Function.prototype.bind (thisArg [, arg1 [, arg2, …]])"},{section:"x15.3.4.5.1",name:"15.3.4.5.1 [[Call]]"},{section:"x15.3.4.5.2",name:"15.3.4.5.2 [[Construct]]"},{section:"x15.3.4.5.3",name:"15.3.4.5.3 [[HasInstance]] (V)"},{section:"x15.3.5",name:"15.3.5 Properties of Function Instances"},{section:"x15.3.5.1",name:"15.3.5.1 length"},{section:"x15.3.5.2",name:"15.3.5.2 prototype"},{section:"x15.3.5.3",name:"15.3.5.3 [[HasInstance]] (V)"},{section:"x15.3.5.4",name:"15.3.5.4 [[Get]] (P)"},{section:"x15.4",name:"15.4 Array Objects"},{section:"x15.4.1",name:"15.4.1 The Array Constructor Called as a Function"},{section:"x15.4.1.1",name:"15.4.1.1 Array ( [ item1 [ , item2 [ , … ] ] ] )"},{section:"x15.4.2",name:"15.4.2 The Array Constructor"},{section:"x15.4.2.1",name:"15.4.2.1 new Array ( [ item0 [ , item1 [ , … ] ] ] )"},{section:"x15.4.2.2",name:"15.4.2.2 new Array (len)"},{section:"x15.4.3",name:"15.4.3 Properties of the Array Constructor"},{section:"x15.4.3.1",name:"15.4.3.1 Array.prototype"},{section:"x15.4.3.2",name:"15.4.3.2 Array.isArray ( arg )"},{section:"x15.4.4",name:"15.4.4 Properties of the Array Prototype Object"},{section:"x15.4.4.1",name:"15.4.4.1 Array.prototype.constructor"},{section:"x15.4.4.2",name:"15.4.4.2 Array.prototype.toString ( )"},{section:"x15.4.4.3",name:"15.4.4.3 Array.prototype.toLocaleString ( )"},{section:"x15.4.4.4",name:"15.4.4.4 Array.prototype.concat ( [ item1 [ , item2 [ , … ] ] ] )"},{section:"x15.4.4.5",name:"15.4.4.5 Array.prototype.join (separator)"},{section:"x15.4.4.6",name:"15.4.4.6 Array.prototype.pop ( )"},{section:"x15.4.4.7",name:"15.4.4.7 Array.prototype.push ( [ item1 [ , item2 [ , … ] ] ] )"},{section:"x15.4.4.8",name:"15.4.4.8 Array.prototype.reverse ( )"},{section:"x15.4.4.9",name:"15.4.4.9 Array.prototype.shift ( )"},{section:"x15.4.4.10",name:"15.4.4.10 Array.prototype.slice (start, end)"},{section:"x15.4.4.11",name:"15.4.4.11 Array.prototype.sort (comparefn)"},{section:"x15.4.4.12",name:"15.4.4.12 Array.prototype.splice (start, deleteCount [ , item1 [ , item2 [ , … ] ] ] )"},{section:"x15.4.4.13",name:"15.4.4.13 Array.prototype.unshift ( [ item1 [ , item2 [ , … ] ] ] )"},{section:"x15.4.4.14",name:"15.4.4.14 Array.prototype.indexOf ( searchElement [ , fromIndex ] )"},{section:"x15.4.4.15",name:"15.4.4.15 Array.prototype.lastIndexOf ( searchElement [ , fromIndex ] )"},{section:"x15.4.4.16",name:"15.4.4.16 Array.prototype.every ( callbackfn [ , thisArg ] )"},{section:"x15.4.4.17",name:"15.4.4.17 Array.prototype.some ( callbackfn [ , thisArg ] )"},{section:"x15.4.4.18",name:"15.4.4.18 Array.prototype.forEach ( callbackfn [ , thisArg ] )"},{section:"x15.4.4.19",name:"15.4.4.19 Array.prototype.map ( callbackfn [ , thisArg ] )"},{section:"x15.4.4.20",name:"15.4.4.20 Array.prototype.filter ( callbackfn [ , thisArg ] )"},{section:"x15.4.4.21",name:"15.4.4.21 Array.prototype.reduce ( callbackfn [ , initialValue ] )"},{section:"x15.4.4.22",name:"15.4.4.22 Array.prototype.reduceRight ( callbackfn [ , initialValue ] )"},{section:"x15.4.5",name:"15.4.5 Properties of Array Instances"},{section:"x15.4.5.1",name:"15.4.5.1 [[DefineOwnProperty]] ( P, Desc, Throw )"},{section:"x15.4.5.2",name:"15.4.5.2 length"},{section:"x15.5",name:"15.5 String Objects"},{section:"x15.5.1",name:"15.5.1 The String Constructor Called as a Function"},{section:"x15.5.1.1",name:"15.5.1.1 String ( [ value ] )"},{section:"x15.5.2",name:"15.5.2 The String Constructor"},{section:"x15.5.2.1",name:"15.5.2.1 new String ( [ value ] )"},{section:"x15.5.3",name:"15.5.3 Properties of the String Constructor"},{section:"x15.5.3.1",name:"15.5.3.1 String.prototype"},{section:"x15.5.3.2",name:"15.5.3.2 String.fromCharCode ( [ char0 [ , char1 [ , … ] ] ] )"},{section:"x15.5.4",name:"15.5.4 Properties of the String Prototype Object"},{section:"x15.5.4.1",name:"15.5.4.1 String.prototype.constructor"},{section:"x15.5.4.2",name:"15.5.4.2 String.prototype.toString ( )"},{section:"x15.5.4.3",name:"15.5.4.3 String.prototype.valueOf ( )"},{section:"x15.5.4.4",name:"15.5.4.4 String.prototype.charAt (pos)"},{section:"x15.5.4.5",name:"15.5.4.5 String.prototype.charCodeAt (pos)"},{section:"x15.5.4.6",name:"15.5.4.6 String.prototype.concat ( [ string1 [ , string2 [ , … ] ] ] )"},{section:"x15.5.4.7",name:"15.5.4.7 String.prototype.indexOf (searchString, position)"},{section:"x15.5.4.8",name:"15.5.4.8 String.prototype.lastIndexOf (searchString, position)"},{section:"x15.5.4.9",name:"15.5.4.9 String.prototype.localeCompare (that)"},{section:"x15.5.4.10",name:"15.5.4.10 String.prototype.match (regexp)"},{section:"x15.5.4.11",name:"15.5.4.11 String.prototype.replace (searchValue, replaceValue)"},{section:"x15.5.4.12",name:"15.5.4.12 String.prototype.search (regexp)"},{section:"x15.5.4.13",name:"15.5.4.13 String.prototype.slice (start, end)"},{section:"x15.5.4.14",name:"15.5.4.14 String.prototype.split (separator, limit)"},{section:"x15.5.4.15",name:"15.5.4.15 String.prototype.substring (start, end)"},{section:"x15.5.4.16",name:"15.5.4.16 String.prototype.toLowerCase ( )"},{section:"x15.5.4.17",name:"15.5.4.17 String.prototype.toLocaleLowerCase ( )"},{section:"x15.5.4.18",name:"15.5.4.18 String.prototype.toUpperCase ( )"},{section:"x15.5.4.19",name:"15.5.4.19 String.prototype.toLocaleUpperCase ( )"},{section:"x15.5.4.20",name:"15.5.4.20 String.prototype.trim ( )"},{section:"x15.5.5",name:"15.5.5 Properties of String Instances"},{section:"x15.5.5.1",name:"15.5.5.1 length"},{section:"x15.5.5.2",name:"15.5.5.2 [[GetOwnProperty]] ( P )"},{section:"x15.6",name:"15.6 Boolean Objects"},{section:"x15.6.1",name:"15.6.1 The Boolean Constructor Called as a Function"},{section:"x15.6.1.1",name:"15.6.1.1 Boolean (value)"},{section:"x15.6.2",name:"15.6.2 The Boolean Constructor"},{section:"x15.6.2.1",name:"15.6.2.1 new Boolean (value)"},{section:"x15.6.3",name:"15.6.3 Properties of the Boolean Constructor"},{section:"x15.6.3.1",name:"15.6.3.1 Boolean.prototype"},{section:"x15.6.4",name:"15.6.4 Properties of the Boolean Prototype Object"},{section:"x15.6.4.1",name:"15.6.4.1 Boolean.prototype.constructor"},{section:"x15.6.4.2",name:"15.6.4.2 Boolean.prototype.toString ( )"},{section:"x15.6.4.3",name:"15.6.4.3 Boolean.prototype.valueOf ( )"},{section:"x15.6.5",name:"15.6.5 Properties of Boolean Instances"},{section:"x15.7",name:"15.7 Number Objects"},{section:"x15.7.1",name:"15.7.1 The Number Constructor Called as a Function"},{section:"x15.7.1.1",name:"15.7.1.1 Number ( [ value ] )"},{section:"x15.7.2",name:"15.7.2 The Number Constructor"},{section:"x15.7.2.1",name:"15.7.2.1 new Number ( [ value ] )"},{section:"x15.7.3",name:"15.7.3 Properties of the Number Constructor"},{section:"x15.7.3.1",name:"15.7.3.1 Number.prototype"},{section:"x15.7.3.2",name:"15.7.3.2 Number.MAX_VALUE"},{section:"x15.7.3.3",name:"15.7.3.3 Number.MIN_VALUE"},{section:"x15.7.3.4",name:"15.7.3.4 Number.NaN"},{section:"x15.7.3.5",name:"15.7.3.5 Number.NEGATIVE_INFINITY"},{section:"x15.7.3.6",name:"15.7.3.6 Number.POSITIVE_INFINITY"},{section:"x15.7.4",name:"15.7.4 Properties of the Number Prototype Object"},{section:"x15.7.4.1",name:"15.7.4.1 Number.prototype.constructor"},{section:"x15.7.4.2",name:"15.7.4.2 Number.prototype.toString ( [ radix ] )"},{section:"x15.7.4.3",name:"15.7.4.3 Number.prototype.toLocaleString()"},{section:"x15.7.4.4",name:"15.7.4.4 Number.prototype.valueOf ( )"},{section:"x15.7.4.5",name:"15.7.4.5 Number.prototype.toFixed (fractionDigits)"},{section:"x15.7.4.6",name:"15.7.4.6 Number.prototype.toExponential (fractionDigits)"},{section:"x15.7.4.7",name:"15.7.4.7 Number.prototype.toPrecision (precision)"},{section:"x15.7.5",name:"15.7.5 Properties of Number Instances"},{section:"x15.8",name:"15.8 The Math Object"},{section:"x15.8.1",name:"15.8.1 Value Properties of the Math Object"},{section:"x15.8.1.1",name:"15.8.1.1 E"},{section:"x15.8.1.2",name:"15.8.1.2 LN10"},{section:"x15.8.1.3",name:"15.8.1.3 LN2"},{section:"x15.8.1.4",name:"15.8.1.4 LOG2E"},{section:"x15.8.1.5",name:"15.8.1.5 LOG10E"},{section:"x15.8.1.6",name:"15.8.1.6 PI"},{section:"x15.8.1.7",name:"15.8.1.7 SQRT1_2"},{section:"x15.8.1.8",name:"15.8.1.8 SQRT2"},{section:"x15.8.2",name:"15.8.2 Function Properties of the Math Object"},{section:"x15.8.2.1",name:"15.8.2.1 abs (x)"},{section:"x15.8.2.2",name:"15.8.2.2 acos (x)"},{section:"x15.8.2.3",name:"15.8.2.3 asin (x)"},{section:"x15.8.2.4",name:"15.8.2.4 atan (x)"},{section:"x15.8.2.5",name:"15.8.2.5 atan2 (y, x)"},{section:"x15.8.2.6",name:"15.8.2.6 ceil (x)"},{section:"x15.8.2.7",name:"15.8.2.7 cos (x)"},{section:"x15.8.2.8",name:"15.8.2.8 exp (x)"},{section:"x15.8.2.9",name:"15.8.2.9 floor (x)"},{section:"x15.8.2.10",name:"15.8.2.10 log (x)"},{section:"x15.8.2.11",name:"15.8.2.11 max ( [ value1 [ , value2 [ , … ] ] ] )"},{section:"x15.8.2.12",name:"15.8.2.12 min ( [ value1 [ , value2 [ , … ] ] ] )"},{section:"x15.8.2.13",name:"15.8.2.13 pow (x, y)"},{section:"x15.8.2.14",name:"15.8.2.14 random ( )"},{section:"x15.8.2.15",name:"15.8.2.15 round (x)"},{section:"x15.8.2.16",name:"15.8.2.16 sin (x)"},{section:"x15.8.2.17",name:"15.8.2.17 sqrt (x)"},{section:"x15.8.2.18",name:"15.8.2.18 tan (x)"},{section:"x15.9",name:"15.9 Date Objects"},{section:"x15.9.1",name:"15.9.1 Overview of Date Objects and Definitions of Abstract Operators"},{section:"x15.9.1.1",name:"15.9.1.1 Time Values and Time Range"},{section:"x15.9.1.2",name:"15.9.1.2 Day Number and Time within Day"},{section:"x15.9.1.3",name:"15.9.1.3 Year Number"},{section:"x15.9.1.4",name:"15.9.1.4 Month Number"},{section:"x15.9.1.5",name:"15.9.1.5 Date Number"},{section:"x15.9.1.6",name:"15.9.1.6 Week Day"},{section:"x15.9.1.7",name:"15.9.1.7 Local Time Zone Adjustment"},{section:"x15.9.1.8",name:"15.9.1.8 Daylight Saving Time Adjustment"},{section:"x15.9.1.9",name:"15.9.1.9 Local Time"},{section:"x15.9.1.10",name:"15.9.1.10 Hours, Minutes, Second, and Milliseconds"},{section:"x15.9.1.11",name:"15.9.1.11 MakeTime (hour, min, sec, ms)"},{section:"x15.9.1.12",name:"15.9.1.12 MakeDay (year, month, date)"},{section:"x15.9.1.13",name:"15.9.1.13 MakeDate (day, time)"},{section:"x15.9.1.14",name:"15.9.1.14 TimeClip (time)"},{section:"x15.9.1.15",name:"15.9.1.15 Date Time String Format"},{section:"x15.9.1.15.1",name:"15.9.1.15.1 Extended years"},{section:"x15.9.2",name:"15.9.2 The Date Constructor Called as a Function"},{section:"x15.9.2.1",name:"15.9.2.1 Date ( [ year [, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ] ] ] )"},{section:"x15.9.3",name:"15.9.3 The Date Constructor"},{section:"x15.9.3.1",name:"15.9.3.1 new Date (year, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ] )"},{section:"x15.9.3.2",name:"15.9.3.2 new Date (value)"},{section:"x15.9.3.3",name:"15.9.3.3 new Date ( )"},{section:"x15.9.4",name:"15.9.4 Properties of the Date Constructor"},{section:"x15.9.4.1",name:"15.9.4.1 Date.prototype"},{section:"x15.9.4.2",name:"15.9.4.2 Date.parse (string)"},{section:"x15.9.4.3",name:"15.9.4.3 Date.UTC (year, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ])"},{section:"x15.9.4.4",name:"15.9.4.4 Date.now ( )"},{section:"x15.9.5",name:"15.9.5 Properties of the Date Prototype Object"},{section:"x15.9.5.1",name:"15.9.5.1 Date.prototype.constructor"},{section:"x15.9.5.2",name:"15.9.5.2 Date.prototype.toString ( )"},{section:"x15.9.5.3",name:"15.9.5.3 Date.prototype.toDateString ( )"},{section:"x15.9.5.4",name:"15.9.5.4 Date.prototype.toTimeString ( )"},{section:"x15.9.5.5",name:"15.9.5.5 Date.prototype.toLocaleString ( )"},{section:"x15.9.5.6",name:"15.9.5.6 Date.prototype.toLocaleDateString ( )"},{section:"x15.9.5.7",name:"15.9.5.7 Date.prototype.toLocaleTimeString ( )"},{section:"x15.9.5.8",name:"15.9.5.8 Date.prototype.valueOf ( )"},{section:"x15.9.5.9",name:"15.9.5.9 Date.prototype.getTime ( )"},{section:"x15.9.5.10",name:"15.9.5.10 Date.prototype.getFullYear ( )"},{section:"x15.9.5.11",name:"15.9.5.11 Date.prototype.getUTCFullYear ( )"},{section:"x15.9.5.12",name:"15.9.5.12 Date.prototype.getMonth ( )"},{section:"x15.9.5.13",name:"15.9.5.13 Date.prototype.getUTCMonth ( )"},{section:"x15.9.5.14",name:"15.9.5.14 Date.prototype.getDate ( )"},{section:"x15.9.5.15",name:"15.9.5.15 Date.prototype.getUTCDate ( )"},{section:"x15.9.5.16",name:"15.9.5.16 Date.prototype.getDay ( )"},{section:"x15.9.5.17",name:"15.9.5.17 Date.prototype.getUTCDay ( )"},{section:"x15.9.5.18",name:"15.9.5.18 Date.prototype.getHours ( )"},{section:"x15.9.5.19",name:"15.9.5.19 Date.prototype.getUTCHours ( )"},{section:"x15.9.5.20",name:"15.9.5.20 Date.prototype.getMinutes ( )"},{section:"x15.9.5.21",name:"15.9.5.21 Date.prototype.getUTCMinutes ( )"},{section:"x15.9.5.22",name:"15.9.5.22 Date.prototype.getSeconds ( )"},{section:"x15.9.5.23",name:"15.9.5.23 Date.prototype.getUTCSeconds ( )"},{section:"x15.9.5.24",name:"15.9.5.24 Date.prototype.getMilliseconds ( )"},{section:"x15.9.5.25",name:"15.9.5.25 Date.prototype.getUTCMilliseconds ( )"},{section:"x15.9.5.26",name:"15.9.5.26 Date.prototype.getTimezoneOffset ( )"},{section:"x15.9.5.27",name:"15.9.5.27 Date.prototype.setTime (time)"},{section:"x15.9.5.28",name:"15.9.5.28 Date.prototype.setMilliseconds (ms)"},{section:"x15.9.5.29",name:"15.9.5.29 Date.prototype.setUTCMilliseconds (ms)"},{section:"x15.9.5.30",name:"15.9.5.30 Date.prototype.setSeconds (sec [, ms ] )"},{section:"x15.9.5.31",name:"15.9.5.31 Date.prototype.setUTCSeconds (sec [, ms ] )"},{section:"x15.9.5.32",name:"15.9.5.32 Date.prototype.setMinutes (min [, sec [, ms ] ] )"},{section:"x15.9.5.33",name:"15.9.5.33 Date.prototype.setUTCMinutes (min [, sec [, ms ] ] )"},{section:"x15.9.5.34",name:"15.9.5.34 Date.prototype.setHours (hour [, min [, sec [, ms ] ] ] )"},{section:"x15.9.5.35",name:"15.9.5.35 Date.prototype.setUTCHours (hour [, min [, sec [, ms ] ] ] )"},{section:"x15.9.5.36",name:"15.9.5.36 Date.prototype.setDate (date)"},{section:"x15.9.5.37",name:"15.9.5.37 Date.prototype.setUTCDate (date)"},{section:"x15.9.5.38",name:"15.9.5.38 Date.prototype.setMonth (month [, date ] )"},{section:"x15.9.5.39",name:"15.9.5.39 Date.prototype.setUTCMonth (month [, date ] )"},{section:"x15.9.5.40",name:"15.9.5.40 Date.prototype.setFullYear (year [, month [, date ] ] )"},{section:"x15.9.5.41",name:"15.9.5.41 Date.prototype.setUTCFullYear (year [, month [, date ] ] )"},{section:"x15.9.5.42",name:"15.9.5.42 Date.prototype.toUTCString ( )"},{section:"x15.9.5.43",name:"15.9.5.43 Date.prototype.toISOString ( )"},{section:"x15.9.5.44",name:"15.9.5.44 Date.prototype.toJSON ( key )"},{section:"x15.9.6",name:"15.9.6 Properties of Date Instances"},{section:"x15.10",name:"15.10 RegExp (Regular Expression) Objects"},{section:"x15.10.1",name:"15.10.1 Patterns"},{section:"x15.10.2",name:"15.10.2 Pattern Semantics"},{section:"x15.10.2.1",name:"15.10.2.1 Notation"},{section:"x15.10.2.2",name:"15.10.2.2 Pattern"},{section:"x15.10.2.3",name:"15.10.2.3 Disjunction"},{section:"x15.10.2.4",name:"15.10.2.4 Alternative"},{section:"x15.10.2.5",name:"15.10.2.5 Term"},{section:"x15.10.2.6",name:"15.10.2.6 Assertion"},{section:"x15.10.2.7",name:"15.10.2.7 Quantifier"},{section:"x15.10.2.8",name:"15.10.2.8 Atom"},{section:"x15.10.2.9",name:"15.10.2.9 AtomEscape"},{section:"x15.10.2.10",name:"15.10.2.10 CharacterEscape"},{section:"x15.10.2.11",name:"15.10.2.11 DecimalEscape"},{section:"x15.10.2.12",name:"15.10.2.12 CharacterClassEscape"},{section:"x15.10.2.13",name:"15.10.2.13 CharacterClass"},{section:"x15.10.2.14",name:"15.10.2.14 ClassRanges"},{section:"x15.10.2.15",name:"15.10.2.15 NonemptyClassRanges"},{section:"x15.10.2.16",name:"15.10.2.16 NonemptyClassRangesNoDash"},{section:"x15.10.2.17",name:"15.10.2.17 ClassAtom"},{section:"x15.10.2.18",name:"15.10.2.18 ClassAtomNoDash"},{section:"x15.10.2.19",name:"15.10.2.19 ClassEscape"},{section:"x15.10.3",name:"15.10.3 The RegExp Constructor Called as a Function"},{section:"x15.10.3.1",name:"15.10.3.1 RegExp(pattern, flags)"},{section:"x15.10.4",name:"15.10.4 The RegExp Constructor"},{section:"x15.10.4.1",name:"15.10.4.1 new RegExp(pattern, flags)"},{section:"x15.10.5",name:"15.10.5 Properties of the RegExp Constructor"},{section:"x15.10.5.1",name:"15.10.5.1 RegExp.prototype"},{section:"x15.10.6",name:"15.10.6 Properties of the RegExp Prototype Object"},{section:"x15.10.6.1",name:"15.10.6.1 RegExp.prototype.constructor"},{section:"x15.10.6.2",name:"15.10.6.2 RegExp.prototype.exec(string)"},{section:"x15.10.6.3",name:"15.10.6.3 RegExp.prototype.test(string)"},{section:"x15.10.6.4",name:"15.10.6.4 RegExp.prototype.toString()"},{section:"x15.10.7",name:"15.10.7 Properties of RegExp Instances"},{section:"x15.10.7.1",name:"15.10.7.1 source"},{section:"x15.10.7.2",name:"15.10.7.2 global"},{section:"x15.10.7.3",name:"15.10.7.3 ignoreCase"},{section:"x15.10.7.4",name:"15.10.7.4 multiline"},{section:"x15.10.7.5",name:"15.10.7.5 lastIndex"},{section:"x15.11",name:"15.11 Error Objects"},{section:"x15.11.1",name:"15.11.1 The Error Constructor Called as a Function"},{section:"x15.11.1.1",name:"15.11.1.1 Error (message)"},{section:"x15.11.2",name:"15.11.2 The Error Constructor"},{section:"x15.11.2.1",name:"15.11.2.1 new Error (message)"},{section:"x15.11.3",name:"15.11.3 Properties of the Error Constructor"},{section:"x15.11.3.1",name:"15.11.3.1 Error.prototype"},{section:"x15.11.4",name:"15.11.4 Properties of the Error Prototype Object"},{section:"x15.11.4.1",name:"15.11.4.1 Error.prototype.constructor"},{section:"x15.11.4.2",name:"15.11.4.2 Error.prototype.name"},{section:"x15.11.4.3",name:"15.11.4.3 Error.prototype.message"},{section:"x15.11.4.4",name:"15.11.4.4 Error.prototype.toString ( )"},{section:"x15.11.5",name:"15.11.5 Properties of Error Instances"},{section:"x15.11.6",name:"15.11.6 Native Error Types Used in This Standard"},{section:"x15.11.6.1",name:"15.11.6.1 EvalError"},{section:"x15.11.6.2",name:"15.11.6.2 RangeError"},{section:"x15.11.6.3",name:"15.11.6.3 ReferenceError"},{section:"x15.11.6.4",name:"15.11.6.4 SyntaxError"},{section:"x15.11.6.5",name:"15.11.6.5 TypeError"},{section:"x15.11.6.6",name:"15.11.6.6 URIError"},{section:"x15.11.7",name:"15.11.7 NativeError Object Structure"},{section:"x15.11.7.1",name:"15.11.7.1 NativeError Constructors Called as Functions"},{section:"x15.11.7.2",name:"15.11.7.2 NativeError (message)"},{section:"x15.11.7.3",name:"15.11.7.3 The NativeError Constructors"},{section:"x15.11.7.4",name:"15.11.7.4 New NativeError (message)"},{section:"x15.11.7.5",name:"15.11.7.5 Properties of the NativeError Constructors"},{section:"x15.11.7.6",name:"15.11.7.6 NativeError.prototype"},{section:"x15.11.7.7",name:"15.11.7.7 Properties of the NativeError Prototype Objects"},{section:"x15.11.7.8",name:"15.11.7.8 NativeError.prototype.constructor"},{section:"x15.11.7.9",name:"15.11.7.9 NativeError.prototype.name"},{section:"x15.11.7.10",name:"15.11.7.10 NativeError.prototype.message"},{section:"x15.11.7.11",name:"15.11.7.11 Properties of NativeError Instances"},{section:"x15.12",name:"15.12 The JSON Object"},{section:"x15.12.1",name:"15.12.1 The JSON Grammar  "},{section:"x15.12.1.1",name:"15.12.1.1 The JSON Lexical Grammar"},{section:"x15.12.1.2",name:"15.12.1.2 The JSON Syntactic Grammar"},{section:"x15.12.2",name:"15.12.2 parse ( text [ , reviver ] )"},{section:"x15.12.3",name:"15.12.3 stringify ( value [ , replacer [ , space ] ] )"},{section:"x16",name:"16 Errors"},{section:"A",name:"Annex A (informative) Grammar Summary"},{section:"A.1",name:"A.1 Lexical Grammar"},{section:"A.2",name:"A.2 Number Conversions"},{section:"A.3",name:"A.3 Expressions"},{section:"A.4",name:"A.4 Statements"},{section:"A.5",name:"A.5 Functions and Programs"},{section:"A.6",name:"A.6 Universal Resource Identifier Character Classes"},{section:"A.7",name:"A.7 Regular Expressions"},{section:"A.8",name:"A.8 JSON"},{section:"A.8.1",name:"A.8.1 JSON Lexical Grammar"},{section:"A.8.2",name:"A.8.2 JSON Syntactic Grammar"},{section:"B",name:"Annex B (informative) Compatibility"},{section:"B.1",name:"B.1 Additional Syntax"},{section:"B.1.1",name:"B.1.1 Numeric Literals"},{section:"B.1.2",name:"B.1.2 String Literals"},{section:"B.2",name:"B.2 Additional Properties"},{section:"B.2.1",name:"B.2.1 escape (string)"},{section:"B.2.2",name:"B.2.2 unescape (string)"},{section:"B.2.3",name:"B.2.3 String.prototype.substr (start, length)"},{section:"B.2.4",name:"B.2.4 Date.prototype.getYear ( )"},{section:"B.2.5",name:"B.2.5 Date.prototype.setYear (year)"},{section:"B.2.6",name:"B.2.6 Date.prototype.toGMTString ( )"},{section:"C",name:"Annex C (informative) The Strict Mode of ECMAScript"},{section:"D",name:"Annex D (informative) Corrections and Clarifications in the 5th Edition with Possible 3rd Edition Compatibility Impact"},{section:"E",name:"Annex E (informative) Additions and Changes in the 5th Edition that Introduce Incompatibilities with the 3rd Edition"},{section:"bibliography",name:"Bibliography"}],bot.addCommand({name:"spec",fun:e,permissions:{del:"NONE"},description:"Find a section in the ES5 spec"})
}(),function(){function e(e,n){function o(e){if(e.error_message)return i(e.error_message),void 0;var n,o=e.items[0];n=o?t(o,a):"User "+s+" not found",i(n)}function i(t){n?n(t):e.reply(t)}var r=e.parse(),s=r[0],a="extended"===r[1];return s?/^\d+$/.test(s)||(s=e.findUserid(a?s:r.slice().join(" "))):s=e.get("user_id"),0>s?"User Elusio proved elusive.":.1>=Math.random()?(i("That dude sucks"),void 0):(IO.jsonp({url:"https://api.stackexchange.com/2.0/users/"+s,data:{site:bot.adapter.site,filter:"!G*klMsSp1IcBUKxXMwhRe8TaI("},fun:o}),void 0)}function t(e,t){e=n(e);var s=i.supplant(e);return t&&(s+=r.supplant(o(e))),s}function n(e){return e=Object.merge({question_count:0,answer_count:0,reputation_change_day:0},e),e.ratio=!e.question_count&&e.answer_count?"H̸̡̪̯ͨ͊̽̅̾̎Ȩ̬̩̾͛ͪ̈́̀́͘ ̶̧̨̱̹̭̯ͧ̾ͬC̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝S̨̥̫͎̭ͯ̿̔̀ͅ":!e.answer_count&&e.question_count?"TO͇̹̺ͅƝ̴ȳ̳ TH̘Ë͖́̉ ͠P̯͍̭O̚​N̐Y̡":e.answer_count||e.question_count?Math.ratio(e.question_count,e.answer_count):"http://i.imgur.com/F79hP.png",bot.log(e,"/stat normalized"),e}function o(e){return e=Object.merge(e.badge_counts,e),e.avg_rep_post=(e.reputation/(e.question_count+e.answer_count)).maxDecimal(2),1/0===e.avg_rep_post&&(e.avg_rep_post="T͎͍̘͙̖̤̉̌̇̅ͯ͋͢͜͝H̖͙̗̗̺͚̱͕̒́͟E̫̺̯͖͎̗̒͑̅̈ ̈ͮ̽ͯ̆̋́͏͙͓͓͇̹<̩̟̳̫̪̇ͩ̑̆͗̽̇͆́ͅC̬͎ͪͩ̓̑͊ͮͪ̄̚̕Ě̯̰̤̗̜̗͓͛͝N̶̴̞͇̟̲̪̅̓ͯͅT͍̯̰͓̬͚̅͆̄E̠͇͇̬̬͕͖ͨ̔̓͞R͚̠̻̲̗̹̀>̇̏ͣ҉̳̖̟̫͕ ̧̛͈͙͇͂̓̚͡C͈̞̻̩̯̠̻ͥ̆͐̄ͦ́̀͟A̛̪̫͙̺̱̥̞̙ͦͧ̽͛̈́ͯ̅̍N̦̭͕̹̤͓͙̲̑͋̾͊ͣŅ̜̝͌͟O̡̝͍͚̲̝ͣ̔́͝Ť͈͢ ̪̘̳͔̂̒̋ͭ͆̽͠H̢͈̤͚̬̪̭͗ͧͬ̈́̈̀͌͒͡Ơ̮͍͇̝̰͍͚͖̿ͮ̀̍́L͐̆ͨ̏̎͡҉̧̱̯̤̹͓̗̻̭ͅḐ̲̰͙͑̂̒̐́̊"),bot.log(e,"/stat extended"),e}var i="[{display_name}]({link}) has {reputation} reputation, earned {reputation_change_day} rep today, asked {question_count} questions, gave {answer_count} answers, for a q:a ratio of {ratio}.\n",r="avg. rep/post: {avg_rep_post}. Badges: {gold}g {silver}s {bronze}b ";bot.addCommand({name:"stat",fun:e,permissions:{del:"NONE"},description:"Gives useless stats on a user. `/stat usrid|usrname [extended]`",async:!0})}(),IO.register("input",function(e){var t=e.content.match(/\w+/g)||[];1===t.length&&"STOP"===t[0].toUpperCase()&&bot.adapter.out.add("HAMMERTIME!",e.room_id)}),function(){function e(e){var n=RegExp(e.matches[2],e.matches[4]),o=e.matches[3];if(!e.matches[2])return"Empty regex is empty";var i=t(n,e.get("message_id"));if(!i)return"No matching message (are you sure we're in the right room?)";var r=i.previousElementSibling.href;return i.textContent.replace(n,o)+" "+e.link("(source)",r)}function t(e,t){function n(n){var o=Number(n.parentElement.id.match(/\d+/)[0]);return t>o&&e.test(n.textContent)}var o=[].slice.call(document.getElementsByClassName("content")).reverse();return o.first(n)}var n=/s(.)((?:(?:\\\1)|[^\1])*?)\1((?:(?:\\\1)|[^\1])*?)\1(g?i?)/;bot.listen(n,e)}(),function(){function e(e){var t=e.parse(),n=t.shift(),i=t.shift();return o[n]?o[n](i):"Action {0} not recognized, see `/help timer`".supplant(n)}var t=Object.create(null),n=0,o={start:function(e){return void 0===e&&(e=n++),t[e]=Date.now(),"Registered timer "+e},stop:function(e){if(void 0===e)return"You must provide a timer name";var n=t[e];if(!n)return"I have no knowledge of timer "+e;var o=Date.now()-n;return delete t[e],o+"ms"}};bot.addCommand({name:"timer",fun:e,permissions:{del:"NONE"},description:"Starts/stops a timer. `/timer start [name]` starts a timer, `/timer stop name` stops a timer."})}(),function(){var e=JSON.parse(localStorage.getItem("bot_todo")||"{}"),t=function(t){var n=e[t],o=[];return n||(n=e[t]=[]),{get:function(e){return n.slice(e).map(function(e,t){return"("+t+")"+e}).join(", ")},add:function(e){return n.push(e),!0},remove:function(e){var t=n.indexOf(e);return-1===t?!1:this.removeByIndex(t)},removeByIndex:function(e){return e>=n.length?!1:(o.push(e),!0)},save:function(){bot.log(o.slice(),n.slice()),n=n.filter(function(e,t){return-1===o.indexOf(t)}),o.length=0,e[t]=n,localStorage.bot_todo=JSON.stringify(e)},exists:function(e){return e=e.toLowerCase(),n.some(function(t){return e===t.toLowerCase()})}}}.memoize(),n={get:function(e,t){var n=e.get(t[0]);return n||"No items on your todo"},add:function(e,t){function n(t){return e.exists(t)?(o=t+" already exists.",!1):(e.add(t),!0)}var o="";return t.every(n),o||"Item(s) added."},rm:function(e,t){function n(t){if(/^\d+$/.test(t))e.removeByIndex(Number(t));else{if(!e.exists(t))return o=t+" does not exist.",!1;e.remove(t)}return!0}var o="";return t.every(n),o||"Item(s) removed."}},o=function(e){var o=e.parse();bot.log(o,"todo input"),o[0]||(o=["get"]);var i,r=o[0],s=t(e.get("user_id")),a=o.slice(1);return n[r]?(i=n[r](s,a),bot.log(i,"/todo "+r)):(i="Unidentified /todo action "+r,bot.log(i,"/todo unknown")),s.save(),i};bot.addCommand({name:"todo",fun:o,permissions:{del:"NONE"},description:"Your personal todo list. `get [count]` retrieves everything or count items. `add items` adds items to your todo list (make sure items with spaces are wrapped in quotes) `rm items|indices` removes items specified by indice or content"})}(),function(){var e={last_id:null,command:function(e,t){function n(n){t?t(n):e.reply(n)}var o=Number(e.parse()[0]);bot.log(o,"/undo input"),o||(o=this.last_id),o?this.remove(o,n):n("I've yet to say a word.")},remove:function(e,t){function n(e){var n;'"ok"'!==e&&(n=/it is too late/i.test(e)?"TimeError: Could not reach 88mph":/only delete your own/i.test(e)?"I can only delete my own messages":"I have no idea what happened: "+e,t(n))}IO.xhr({url:"/messages/"+e+"/delete",data:fkey(),method:"POST",complete:n})},update_id:function(e){console.log(e),this.last_id=JSON.parse(e.responseText).id}};IO.register("sendoutput",e.update_id,e),bot.addCommand({name:"undo",fun:e.command,thisArg:e,permissions:{del:"NONE",use:bot.owners},description:"Undo (delete) specified or last message. `/undo [msgid]`"})}(),function(){function e(e){e.send("http://en.wikipedia.org/wiki/"+encodeURIComponent(e))}bot.addCommand({name:"wiki",fun:e,permissions:{del:"NONE"},description:"Gets a Wikipedia article. /wiki query",async:!0})}();