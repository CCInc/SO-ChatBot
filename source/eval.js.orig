//execute arbitrary js code in a relatively safe environment
bot.eval = (function () {
// window.url = window.url || window.webkiturl || window.mozurl || null;

<<<<<<< HEAD
// //translation tool: https://tinker.io/b2ff5
//var worker_code = atob( 'dmfyigdsb2jhbca9ihroaxm7cgovkm1vc3qgzxh0cmegznvuy3rpb25zignvdwxkigjlihbvc3npymx5ihvuc2fmzsovcnzhcib3agl0zxkgpsb7cgknqxjyyxknicagicagicagicagica6idescgknqm9vbgvhbicgicagicagicagica6idescgknrgf0zscgicagicagicagicagica6idescgknzgvjb2rlvvjjjyagicagicagica6idescgknzgvjb2rlvvjjq29tcg9uzw50jya6idescgknzw5jb2rlvvjjjyagicagicagica6idescgknzw5jb2rlvvjjq29tcg9uzw50jya6idescgknrxjyb3inicagicagicagicagica6idescgknzxzhbccgicagicagicagicagica6idescgknrxzhbevycm9yjyagicagicagica6idescgknrnvuy3rpb24nicagicagicagica6idescgknz2xvymfsjyagicagicagicagica6idescgknsw5maw5pdhknicagicagicagica6idescgknaxngaw5pdgunicagicagicagica6idescgknaxnoyu4nicagicagicagicagica6idescgknslnpticgicagicagicagicagica6idescgkntwf0accgicagicagicagicagica6idescgkntmfojyagicagicagicagicagica6idescgkntnvtymvyjyagicagicagicagica6idescgknt2jqzwn0jyagicagicagicagica6idescgknb25tzxnzywdljyagicagicagica6idescgkncgfyc2vgbg9hdccgicagicagica6idescgkncgfyc2vjbnqnicagicagicagica6idescgkncg9zde1lc3nhz2unicagicagica6idescgknumfuz2vfcnjvcicgicagicagica6idescgknumvmzxjlbmnlrxjyb3inicagica6idescgknumvnrxhwjyagicagicagicagica6idescgknc2vszicgicagicagicagicagica6idescgknu3ryaw5njyagicagicagicagica6idescgknu3ludgf4rxjyb3inicagicagica6idescgknvhlwzuvycm9yjyagicagicagica6idescgkndw5kzwzpbmvkjyagicagicagica6idescgknvvjjrxjyb3inicagicagicagica6idescgknd2hpdgv5jyagicagicagicagica6idescgojlyogdhlwzwqgyxjyyxlzigfuzcbzagl0icovcgknqxjyyxlcdwzmzxinicagicagidogmswkcsdcbg9ijyagicagicagicagicagoiaxlaojj0zsb2f0mzjbcnjhescgicagica6idescgknrmxvyxq2nefycmf5jyagicagidogmswkcsdjbnq4qxjyyxknicagicagicagoiaxlaojj0ludde2qxjyyxknicagicagica6idescgknsw50mzjbcnjhescgicagicagidogmswkcsdvaw50oefycmf5jyagicagicagoiaxlaojj1vpbnqxnkfycmf5jyagicagica6idescgknvwluddmyqxjyyxknicagicagidogmswkcsdvaw50oensyw1wzwrbcnjhescgoiaxlaokcs8qcgl0agvzzsbwcm9wzxj0awvzigfsbg93iezgihrvigz1bmn0aw9ulib3axrob3v0ihrozw0sigegznvja2zlc3qgb2ykcwluzxhwbgljywjszsblcnjvcnmgzw51c2vzlib0b29rig1ligfib3v0idqgag91cnmgdg8gdhjhy2sgdghlc2ugznvja2vycwojzg93bi4kcwz1y2sgagvsbcbpdcbpc24ndcbmdxr1cmutchjvb2ysigj1dcb0agugzxjyb3jzihrocm93bibhcmugdw5jyxrjagfibgukcwfuzcb1bnryywnhymxllibzbybhighlywrzlxvwliblbmpveswgznv0dxjllw1liqojki8kcsdet01fegnlchrpb24nidogmswkcsdfdmvudccgicagicagidogmswkcsdnzxnzywdlrxzlbnqnidogmqp9owokwybnbg9iywwsigdsb2jhbc5fx3byb3rvx18gxs5mb3jfywnokgz1bmn0aw9uicggb2jqickgewojt2jqzwn0lmdlde93blbyb3blcnr5tmftzxmoig9iaiaplmzvckvhy2goznvuy3rpb24oihbyb3agksb7cgkjawyoicf3agl0zxkuagfzt3duuhjvcgvydhkoihbyb3agksapihskcqkjzgvszxrlig9ialsgchjvccbdowojcx0kcx0powp9ktskck9iamvjdc5kzwzpbmvqcm9wzxj0esggqxjyyxkuchjvdg90exbllcanam9pbicsihskcxdyaxrhymxloibmywxzzswkcwnvbmzpz3vyywjsztogzmfsc2uscgllbnvtcmfibgu6igzhbhnllaokcxzhbhvloiaoznvuy3rpb24gkcbvbgqgksb7cgkjcmv0dxjuigz1bmn0aw9uicggyxjnickgewojcqlpziaoihroaxmubgvuz3roid4gntawihx8ichhcmcgjiygyxjnlmxlbmd0aca+iduwmckgksb7cgkjcql0ahjvdyanrxhjzxb0aw9uoib0b28gbwfuesbpdgvtcyc7cgkjcx0kcgkjcxjldhvybibvbgquyxbwbhkoihroaxmsigfyz3vtzw50cyapowojcx07cgl9kcbbcnjhes5wcm90b3r5cguuam9pbiapkqp9ktskcihmdw5jdglvbigpewojinvzzsbzdhjpy3qiowokcxzhcibjb25zb2xlid0gewojcv9pdgvtcya6iftdlaojcwxvzya6igz1bmn0aw9ukckgewojcqljb25zb2xlll9pdgvtcy5wdxnolmfwcgx5kcbjb25zb2xlll9pdgvtcywgyxjndw1lbnrzick7cgkjfqojftskcxzhcibwid0gy29uc29szs5sb2cuymluzcggy29uc29szsapowokcwz1bmn0aw9uigv4zwmgkcbjb2rlickgewojcxzhcibyzxn1bhq7cgkjdhj5ihskcqkjcmvzdwx0id0gzxzhbcggjyj1c2ugc3ryawn0ijt1bmrlzmluzwq7xg4nicsgy29kzsapowojcx0kcqljyxrjacaoigugksb7cgkjcxjlc3vsdca9iguudg9tdhjpbmcoktskcql9cgojcxjldhvybibyzxn1bhq7cgl9cgojz2xvymfslm9ubwvzc2fnzsa9igz1bmn0aw9uicggzxzlbnqgksb7cgkjdmfyigpzb25tdhjpbmdpznkgpsbku09olnn0cmluz2lmeswglypiywnrdxaqlwojcqlyzxn1bhqgpsblegvjkcbldmvudc5kyxrhick7cgojcxzhcibzdhj1bmcgpsb7cgkjcuz1bmn0aw9uica6ihrydwusievycm9yica6ihrydwuscgkjcvvuzgvmaw5lzca6ihrydwusifjlz0v4cca6ihrydwukcql9owojcxzhcibyzxzpdmvyid0gznvuy3rpb24gkcbrzxksihzhbhvlickgewojcql2yxigdhlwzsa9icgge30gks50b1n0cmluzy5jywxskcb2ywx1zsaplnnsawnlkca4lcatmsaplaojcqkjb3v0chv0owokcqkjlypku09olnn0cmluz2lmesbkb2vzig5vdcbsawtligz1bmn0aw9ucywgzxjyb3jzlcboyu4gb3igdw5kzwzpbmvkki8kcqkjawygkcb0exbligluihn0cnvuzyb8fcb2ywx1zsahpt0gdmfsdwugksb7cgkjcqlvdxrwdxqgpsanjyarihzhbhvlowojcql9cgkjcwvsc2ugewojcqkjb3v0chv0id0gdmfsdwu7cgkjcx0kcgkjcxjldhvybibvdxrwdxq7cgkjftskcgkjcg9zde1lc3nhz2uoewojcqlhbnn3zxigoibqc29uu3ryaw5nawz5kcbyzxn1bhqsihjldml2zxigkswkcqkjbg9nicagidogannvbln0cmluz2lmesggy29uc29szs5faxrlbxmsihjldml2zxigks5zbgljzsggmswgltegkqojcx0powojftskfskoktsk' );
// var blob = new blob( [worker_code], { type : 'application/javascript' } ),
	// code_url = window.url.createobjecturl( blob );

return function ( msg ) {
console.log(msg);
try{

//console.log(args, "args");
$.post(
    'http://ccinc.host56.com/ideone.php', {sourceCode : msg.content.replace(/^>/, '')},
	       
    function(data){
	
msg.directreply(data);
    }
);
}
catch(e)
{console.log(e.stack, "error stack");}

	// var timeout,
		// worker = new worker( code_url );

	// worker.onmessage = function ( evt ) {
		// finish( dressupanswer(evt.data) );
	// };
=======
//translation tool: https://tinker.io/b2ff5
var worker_code = atob( 'dmFyIGdsb2JhbCA9IHRoaXM7CgovKm1vc3QgZXh0cmEgZnVuY3Rpb25zIGNvdWxkIGJlIHBvc3NpYmx5IHVuc2FmZSovCnZhciB3aGl0ZXkgPSB7CgknQXJyYXknICAgICAgICAgICAgICA6IDEsCgknQm9vbGVhbicgICAgICAgICAgICA6IDEsCgknRGF0ZScgICAgICAgICAgICAgICA6IDEsCgknRXJyb3InICAgICAgICAgICAgICA6IDEsCgknRXZhbEVycm9yJyAgICAgICAgICA6IDEsCgknRnVuY3Rpb24nICAgICAgICAgICA6IDEsCgknSW5maW5pdHknICAgICAgICAgICA6IDEsCgknSlNPTicgICAgICAgICAgICAgICA6IDEsCgknTWF0aCcgICAgICAgICAgICAgICA6IDEsCgknTmFOJyAgICAgICAgICAgICAgICA6IDEsCgknTnVtYmVyJyAgICAgICAgICAgICA6IDEsCgknT2JqZWN0JyAgICAgICAgICAgICA6IDEsCgknUmFuZ2VFcnJvcicgICAgICAgICA6IDEsCgknUmVmZXJlbmNlRXJyb3InICAgICA6IDEsCgknUmVnRXhwJyAgICAgICAgICAgICA6IDEsCgknU3RyaW5nJyAgICAgICAgICAgICA6IDEsCgknU3ludGF4RXJyb3InICAgICAgICA6IDEsCgknVHlwZUVycm9yJyAgICAgICAgICA6IDEsCgknVVJJRXJyb3InICAgICAgICAgICA6IDEsCgknYXRvYicgICAgICAgICAgICAgICA6IDEsCgknYnRvYScgICAgICAgICAgICAgICA6IDEsCgknZGVjb2RlVVJJJyAgICAgICAgICA6IDEsCgknZGVjb2RlVVJJQ29tcG9uZW50JyA6IDEsCgknZW5jb2RlVVJJJyAgICAgICAgICA6IDEsCgknZW5jb2RlVVJJQ29tcG9uZW50JyA6IDEsCgknZXZhbCcgICAgICAgICAgICAgICA6IDEsCgknZ2xvYmFsJyAgICAgICAgICAgICA6IDEsCgknaXNGaW5pdGUnICAgICAgICAgICA6IDEsCgknaXNOYU4nICAgICAgICAgICAgICA6IDEsCgknb25tZXNzYWdlJyAgICAgICAgICA6IDEsCgkncGFyc2VGbG9hdCcgICAgICAgICA6IDEsCgkncGFyc2VJbnQnICAgICAgICAgICA6IDEsCgkncG9zdE1lc3NhZ2UnICAgICAgICA6IDEsCgknc2VsZicgICAgICAgICAgICAgICA6IDEsCgkndW5kZWZpbmVkJyAgICAgICAgICA6IDEsCgknd2hpdGV5JyAgICAgICAgICAgICA6IDEsCgoJLyogdHlwZWQgYXJyYXlzIGFuZCBzaGl0ICovCgknQXJyYXlCdWZmZXInICAgICAgIDogMSwKCSdCbG9iJyAgICAgICAgICAgICAgOiAxLAoJJ0Zsb2F0MzJBcnJheScgICAgICA6IDEsCgknRmxvYXQ2NEFycmF5JyAgICAgIDogMSwKCSdJbnQ4QXJyYXknICAgICAgICAgOiAxLAoJJ0ludDE2QXJyYXknICAgICAgICA6IDEsCgknSW50MzJBcnJheScgICAgICAgIDogMSwKCSdVaW50OEFycmF5JyAgICAgICAgOiAxLAoJJ1VpbnQxNkFycmF5JyAgICAgICA6IDEsCgknVWludDMyQXJyYXknICAgICAgIDogMSwKCSdVaW50OENsYW1wZWRBcnJheScgOiAxLAoKCS8qCgl0aGVzZSBwcm9wZXJ0aWVzIGFsbG93IEZGIHRvIGZ1bmN0aW9uLiB3aXRob3V0IHRoZW0sIGEgZnVja2Zlc3Qgb2YKCWluZXhwbGljYWJsZSBlcnJvcnMgZW51c2VzLiB0b29rIG1lIGFib3V0IDQgaG91cnMgdG8gdHJhY2sgdGhlc2UgZnVja2VycwoJZG93bi4KCWZ1Y2sgaGVsbCBpdCBpc24ndCBmdXR1cmUtcHJvb2YsIGJ1dCB0aGUgZXJyb3JzIHRocm93biBhcmUgdW5jYXRjaGFibGUKCWFuZCB1bnRyYWNhYmxlLiBzbyBhIGhlYWRzLXVwLiBlbmpveSwgZnV0dXJlLW1lIQoJKi8KCSdET01FeGNlcHRpb24nIDogMSwKCSdFdmVudCcgICAgICAgIDogMSwKCSdNZXNzYWdlRXZlbnQnIDogMQp9OwoKWyBnbG9iYWwsIGdsb2JhbC5fX3Byb3RvX18gXS5mb3JFYWNoKGZ1bmN0aW9uICggb2JqICkgewoJT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoIG9iaiApLmZvckVhY2goZnVuY3Rpb24oIHByb3AgKSB7CgkJaWYoICF3aGl0ZXkuaGFzT3duUHJvcGVydHkoIHByb3AgKSApIHsKCQkJZGVsZXRlIG9ialsgcHJvcCBdOwoJCX0KCX0pOwp9KTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eSggQXJyYXkucHJvdG90eXBlLCAnam9pbicsIHsKCXdyaXRhYmxlOiBmYWxzZSwKCWNvbmZpZ3VyYWJsZTogZmFsc2UsCgllbnVtcmFibGU6IGZhbHNlLAoKCXZhbHVlOiAoZnVuY3Rpb24gKCBvbGQgKSB7CgkJcmV0dXJuIGZ1bmN0aW9uICggYXJnICkgewoJCQlpZiAoIHRoaXMubGVuZ3RoID4gNTAwIHx8IChhcmcgJiYgYXJnLmxlbmd0aCA+IDUwMCkgKSB7CgkJCQl0aHJvdyAnRXhjZXB0aW9uOiB0b28gbWFueSBpdGVtcyc7CgkJCX0KCgkJCXJldHVybiBvbGQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApOwoJCX07Cgl9KCBBcnJheS5wcm90b3R5cGUuam9pbiApKQp9KTsKCi8qIHdlIGRlZmluZSBpdCBvdXRzaWRlIHNvIGl0J2xsIG5vdCBiZSBpbiBzdHJpY3QgbW9kZSAqLwpmdW5jdGlvbiBleGVjICggY29kZSApIHsKCXJldHVybiBldmFsKCAndW5kZWZpbmVkO1xuJyArIGNvZGUgKTsKfQoKKGZ1bmN0aW9uKCl7CgkidXNlIHN0cmljdCI7CgoJdmFyIGNvbnNvbGUgPSB7CgkJX2l0ZW1zIDogW10sCgkJbG9nIDogZnVuY3Rpb24oKSB7CgkJCWNvbnNvbGUuX2l0ZW1zLnB1c2guYXBwbHkoIGNvbnNvbGUuX2l0ZW1zLCBhcmd1bWVudHMgKTsKCQl9Cgl9OwoJdmFyIHAgPSBjb25zb2xlLmxvZy5iaW5kKCBjb25zb2xlICk7CgoJZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uICggZXZlbnQgKSB7CgkJcG9zdE1lc3NhZ2UoewoJCQlldmVudCA6ICdzdGFydCcKCQl9KTsKCgkJdmFyIGpzb25TdHJpbmdpZnkgPSBKU09OLnN0cmluZ2lmeSwgLypiYWNrdXAqLwoJCQlyZXN1bHQ7CgoJCXRyeSB7CgkJCXJlc3VsdCA9IGV4ZWMoIGV2ZW50LmRhdGEgKTsKCQl9CgkJY2F0Y2ggKCBlICkgewoJCQlyZXN1bHQgPSBlLnRvU3RyaW5nKCk7CgkJfQoKCQkvKkpTT04gZG9lcyBub3QgbGlrZSBhbnkgb2YgdGhlIGZvbGxvd2luZyovCgkJdmFyIHN0cnVuZyA9IHsKCQkJRnVuY3Rpb24gIDogdHJ1ZSwgRXJyb3IgIDogdHJ1ZSwKCQkJVW5kZWZpbmVkIDogdHJ1ZSwgUmVnRXhwIDogdHJ1ZQoJCX07CgkJdmFyIHNob3VsZF9zdHJpbmcgPSBmdW5jdGlvbiAoIHZhbHVlICkgewoJCQl2YXIgdHlwZSA9ICgge30gKS50b1N0cmluZy5jYWxsKCB2YWx1ZSApLnNsaWNlKCA4LCAtMSApOwoKCQkJaWYgKCB0eXBlIGluIHN0cnVuZyApIHsKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJCS8qbmVpdGhlciBkb2VzIGl0IGZlZWwgY29tcGFzc2lvbmF0ZSBhYm91dCBOYU4gb3IgSW5maW5pdHkqLwoJCQlyZXR1cm4gdmFsdWUgIT09IHZhbHVlIHx8IHZhbHVlID09PSBJbmZpbml0eTsKCQl9OwoKCQl2YXIgcmV2aXZlciA9IGZ1bmN0aW9uICgga2V5LCB2YWx1ZSApIHsKCQkJdmFyIG91dHB1dDsKCgkJCWlmICggc2hvdWxkX3N0cmluZyh2YWx1ZSkgKSB7CgkJCQlvdXRwdXQgPSAnJyArIHZhbHVlOwoJCQl9CgkJCWVsc2UgewoJCQkJb3V0cHV0ID0gdmFsdWU7CgkJCX0KCgkJCXJldHVybiBvdXRwdXQ7CgkJfTsKCgkJcG9zdE1lc3NhZ2UoewoJCQlhbnN3ZXIgOiBqc29uU3RyaW5naWZ5KCByZXN1bHQsIHJldml2ZXIgKSwKCQkJbG9nICAgIDoganNvblN0cmluZ2lmeSggY29uc29sZS5faXRlbXMsIHJldml2ZXIgKS5zbGljZSggMSwgLTEgKQoJCX0pOwoJfTsKfSkoKTsK' );
var blob = new Blob( [worker_code], { type : 'application/javascript' } ),
	code_url = window.URL.createObjectURL( blob );

return function ( msg ) {
	var worker = new Worker( code_url ),
		timeout;

	worker.onmessage = function ( evt ) {
		var type = evt.data.event;
		if ( type === 'start' ) {
			start();
		}
		else {
			finish( dressUpAnswer(evt.data) );
		}
	};
>>>>>>> d3f9428dce8d661e203b4956a0b5ebd78c823745

	// worker.onerror = function ( error ) {
		// finish( error.tostring() );
	// };

	//and it all boils down to this...
	//worker.postmessage( msg.content.replace(/^>/, '') );

<<<<<<< HEAD
	// timeout = window.settimeout(function() {
		// finish( 'maximum execution time exceeded' );
	// }, 100 );
=======
	function start () {
		timeout = window.setTimeout(function() {
			finish( 'Maximum execution time exceeded' );
		}, 500 );
	}
>>>>>>> d3f9428dce8d661e203b4956a0b5ebd78c823745

	function finish ( result ) {
		// cleartimeout( timeout );
		// worker.terminate();
		msg.directreply( result );
	}
};

// function dressupanswer ( answerobj ) {
	// console.log( answerobj, 'eval answerobj' );
	// var answer = answerobj.answer,
		// log = answerobj.log,
		// result;

	// result = snipandcodify( answer );

	// if ( log && log.length ) {
		// result += ' logged: ' + snipandcodify( log );
	// }

	// return result;
// }
// function snipandcodify ( str ) {
	// var ret;

	// if ( str.length > 400 ) {
		// ret = '`' +  str.slice(0, 400) + '` (snip)';
	// }
	// else {
		// ret = '`' + str +'`';
	// }

	// return ret;
// }


}());
